<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>openvswitch_agent.ini</title>
  <section>
    <title>DEFAULT</title>
  </section>
  <variablelist>
    <varlistentry xml:id="DEFAULT.debug">
      <term>
        <literal>DEFAULT.debug</literal>
      </term>
      <listitem>
        <para>If set to true, the logging level will be set to DEBUG instead of the default INFO level.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.log_config_append">
      <term>
        <literal>DEFAULT.log_config_append</literal>
      </term>
      <listitem>
        <para>The name of a logging configuration file. This file is appended to any existing logging configuration files. For details about logging configuration files, see the Python logging module documentation. Note that when logging configuration files are used then all logging configuration is set in the configuration file and other logging configuration options are ignored (for example, logging_context_format_string).</para>
        <table>
          <title>Deprecated Variations</title>
          <tgroup cols="2">
            <colspec colname="c1" colwidth="50.0*"/>
            <colspec colname="c2" colwidth="50.0*"/>
            <thead>
              <row>
                <entry>
                  <para>Group</para>
                </entry>
                <entry>
                  <para>Name</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <para>DEFAULT</para>
                </entry>
                <entry>
                  <para>log-config</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>DEFAULT</para>
                </entry>
                <entry>
                  <para>log_config</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.log_date_format">
      <term>
        <literal>DEFAULT.log_date_format</literal>
      </term>
      <listitem>
        <para>Defines the format string for %(asctime)s in log records. Default: the value above . This option is ignored if log_config_append is set.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.log_file">
      <term>
        <literal>DEFAULT.log_file</literal>
      </term>
      <listitem>
        <para>(Optional) Name of log file to send logging output to. If no default is set, logging will go to stderr as defined by use_stderr. This option is ignored if log_config_append is set.</para>
        <table>
          <title>Deprecated Variations</title>
          <tgroup cols="2">
            <colspec colname="c1" colwidth="50.0*"/>
            <colspec colname="c2" colwidth="50.0*"/>
            <thead>
              <row>
                <entry>
                  <para>Group</para>
                </entry>
                <entry>
                  <para>Name</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <para>DEFAULT</para>
                </entry>
                <entry>
                  <para>logfile</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.log_dir">
      <term>
        <literal>DEFAULT.log_dir</literal>
      </term>
      <listitem>
        <para>(Optional) The base directory used for relative log_file  paths. This option is ignored if log_config_append is set.</para>
        <table>
          <title>Deprecated Variations</title>
          <tgroup cols="2">
            <colspec colname="c1" colwidth="50.0*"/>
            <colspec colname="c2" colwidth="50.0*"/>
            <thead>
              <row>
                <entry>
                  <para>Group</para>
                </entry>
                <entry>
                  <para>Name</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <para>DEFAULT</para>
                </entry>
                <entry>
                  <para>logdir</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.watch_log_file">
      <term>
        <literal>DEFAULT.watch_log_file</literal>
      </term>
      <listitem>
        <para>Uses logging handler designed to watch file system. When log file is moved or removed this handler will open a new log file with specified path instantaneously. It makes sense only if log_file option is specified and Linux platform is used. This option is ignored if log_config_append is set.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.use_syslog">
      <term>
        <literal>DEFAULT.use_syslog</literal>
      </term>
      <listitem>
        <para>Use syslog for logging. Existing syslog format is DEPRECATED and will be changed later to honor RFC5424. This option is ignored if log_config_append is set.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.use_journal">
      <term>
        <literal>DEFAULT.use_journal</literal>
      </term>
      <listitem>
        <para>Enable journald for logging. If running in a systemd environment you may wish to enable journal support. Doing so will use the journal native protocol which includes structured metadata in addition to log messages.This option is ignored if log_config_append is set.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.syslog_log_facility">
      <term>
        <literal>DEFAULT.syslog_log_facility</literal>
      </term>
      <listitem>
        <para>Syslog facility to receive log lines. This option is ignored if log_config_append is set.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.use_stderr">
      <term>
        <literal>DEFAULT.use_stderr</literal>
      </term>
      <listitem>
        <para>Log output to standard error. This option is ignored if log_config_append is set.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.logging_context_format_string">
      <term>
        <literal>DEFAULT.logging_context_format_string</literal>
      </term>
      <listitem>
        <para>Format string to use for log messages with context.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.logging_default_format_string">
      <term>
        <literal>DEFAULT.logging_default_format_string</literal>
      </term>
      <listitem>
        <para>Format string to use for log messages when context is undefined.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.logging_debug_format_suffix">
      <term>
        <literal>DEFAULT.logging_debug_format_suffix</literal>
      </term>
      <listitem>
        <para>Additional data to append to log message when logging level for the message is DEBUG.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.logging_exception_prefix">
      <term>
        <literal>DEFAULT.logging_exception_prefix</literal>
      </term>
      <listitem>
        <para>Prefix each line of exception output with this format.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.logging_user_identity_format">
      <term>
        <literal>DEFAULT.logging_user_identity_format</literal>
      </term>
      <listitem>
        <para>Defines the format string for %(user_identity)s that is used in logging_context_format_string.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.default_log_levels">
      <term>
        <literal>DEFAULT.default_log_levels</literal>
      </term>
      <listitem>
        <para>List of package logging levels in logger=LEVEL pairs. This option is ignored if log_config_append is set.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.publish_errors">
      <term>
        <literal>DEFAULT.publish_errors</literal>
      </term>
      <listitem>
        <para>Enables or disables publication of error events.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.instance_format">
      <term>
        <literal>DEFAULT.instance_format</literal>
      </term>
      <listitem>
        <para>The format for an instance that is passed with the log message.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.instance_uuid_format">
      <term>
        <literal>DEFAULT.instance_uuid_format</literal>
      </term>
      <listitem>
        <para>The format for an instance UUID that is passed with the log message.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.rate_limit_interval">
      <term>
        <literal>DEFAULT.rate_limit_interval</literal>
      </term>
      <listitem>
        <para>Interval, number of seconds, of log rate limiting.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.rate_limit_burst">
      <term>
        <literal>DEFAULT.rate_limit_burst</literal>
      </term>
      <listitem>
        <para>Maximum number of logged messages per rate_limit_interval.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.rate_limit_except_level">
      <term>
        <literal>DEFAULT.rate_limit_except_level</literal>
      </term>
      <listitem>
        <para>Log level name used by rate limiting: CRITICAL, ERROR, INFO, WARNING, DEBUG or empty string. Logs with level greater or equal to rate_limit_except_level are not filtered. An empty string means that all levels are filtered.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.fatal_deprecations">
      <term>
        <literal>DEFAULT.fatal_deprecations</literal>
      </term>
      <listitem>
        <para>Enables or disables fatal status of deprecations.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <section>
    <title>agent</title>
  </section>
  <variablelist>
    <varlistentry xml:id="agent.polling_interval">
      <term>
        <literal>agent.polling_interval</literal>
      </term>
      <listitem>
        <para>The number of seconds the agent will wait between polling for local device changes.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.minimize_polling">
      <term>
        <literal>agent.minimize_polling</literal>
      </term>
      <listitem>
        <para>Minimize polling by monitoring ovsdb for interface changes.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.ovsdb_monitor_respawn_interval">
      <term>
        <literal>agent.ovsdb_monitor_respawn_interval</literal>
      </term>
      <listitem>
        <para>The number of seconds to wait before respawning the ovsdb monitor after losing communication with it.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.tunnel_types">
      <term>
        <literal>agent.tunnel_types</literal>
      </term>
      <listitem>
        <para>Network types supported by the agent (gre and/or vxlan).</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.vxlan_udp_port">
      <term>
        <literal>agent.vxlan_udp_port</literal>
      </term>
      <listitem>
        <para>The UDP port to use for VXLAN tunnels.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.veth_mtu">
      <term>
        <literal>agent.veth_mtu</literal>
      </term>
      <listitem>
        <para>MTU size of veth interfaces</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.l2_population">
      <term>
        <literal>agent.l2_population</literal>
      </term>
      <listitem>
        <para>Use ML2 l2population mechanism driver to learn remote MAC and IPs and improve tunnel scalability.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.arp_responder">
      <term>
        <literal>agent.arp_responder</literal>
      </term>
      <listitem>
        <para>Enable local ARP responder if it is supported. Requires OVS 2.1 and ML2 l2population driver. Allows the switch (when supporting an overlay) to respond to an ARP request locally without performing a costly ARP broadcast into the overlay.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.dont_fragment">
      <term>
        <literal>agent.dont_fragment</literal>
      </term>
      <listitem>
        <para>Set or un-set the don’t fragment (DF) bit on outgoing IP packet carrying GRE/VXLAN tunnel.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.enable_distributed_routing">
      <term>
        <literal>agent.enable_distributed_routing</literal>
      </term>
      <listitem>
        <para>Make the l2 agent run in DVR mode.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.quitting_rpc_timeout">
      <term>
        <literal>agent.quitting_rpc_timeout</literal>
      </term>
      <listitem>
        <para>Set new timeout in seconds for new rpc calls after agent receives SIGTERM. If value is set to 0, rpc timeout won’t be changed</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.drop_flows_on_start">
      <term>
        <literal>agent.drop_flows_on_start</literal>
      </term>
      <listitem>
        <para>Reset flow table on start. Setting this to True will cause brief traffic interruption.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.tunnel_csum">
      <term>
        <literal>agent.tunnel_csum</literal>
      </term>
      <listitem>
        <para>Set or un-set the tunnel header checksum  on outgoing IP packet carrying GRE/VXLAN tunnel.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.agent_type">
      <term>
        <literal>agent.agent_type</literal>
      </term>
      <listitem>
        <para>Selects the Agent Type reported</para>
        <warning>
          <para>This option is deprecated for removal.
                        Its value may be silently ignored 
                        in the future.</para>
        </warning>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.extensions">
      <term>
        <literal>agent.extensions</literal>
      </term>
      <listitem>
        <para>Extensions list to use</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <section>
    <title>ovs</title>
  </section>
  <variablelist>
    <varlistentry xml:id="ovs.integration_bridge">
      <term>
        <literal>ovs.integration_bridge</literal>
      </term>
      <listitem>
        <para>Integration bridge to use. Do not change this parameter unless you have a good reason to. This is the name of the OVS integration bridge. There is one per hypervisor. The integration bridge acts as a virtual ‘patch bay’. All VM VIFs are attached to this bridge and then ‘patched’ according to their network connectivity.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.tunnel_bridge">
      <term>
        <literal>ovs.tunnel_bridge</literal>
      </term>
      <listitem>
        <para>Tunnel bridge to use.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.int_peer_patch_port">
      <term>
        <literal>ovs.int_peer_patch_port</literal>
      </term>
      <listitem>
        <para>Peer patch port in integration bridge for tunnel bridge.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.tun_peer_patch_port">
      <term>
        <literal>ovs.tun_peer_patch_port</literal>
      </term>
      <listitem>
        <para>Peer patch port in tunnel bridge for integration bridge.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.local_ip">
      <term>
        <literal>ovs.local_ip</literal>
      </term>
      <listitem>
        <para>IP address of local overlay (tunnel) network endpoint. Use either an IPv4 or IPv6 address that resides on one of the host network interfaces. The IP version of this value must match the value of the ‘overlay_ip_version’ option in the ML2 plug-in configuration file on the neutron server node(s).</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.bridge_mappings">
      <term>
        <literal>ovs.bridge_mappings</literal>
      </term>
      <listitem>
        <para>Comma-separated list of &lt;physical_network&gt;:&lt;bridge&gt; tuples mapping physical network names to the agent’s node-specific Open vSwitch bridge names to be used for flat and VLAN networks. The length of bridge names should be no more than 11. Each bridge must exist, and should have a physical network interface configured as a port. All physical networks configured on the server should have mappings to appropriate bridges on each agent. Note: If you remove a bridge from this mapping, make sure to disconnect it from the integration bridge as it won’t be managed by the agent anymore.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.use_veth_interconnection">
      <term>
        <literal>ovs.use_veth_interconnection</literal>
      </term>
      <listitem>
        <para>Use veths instead of patch ports to interconnect the integration bridge to physical networks. Support kernel without Open vSwitch patch port support so long as it is set to True.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.of_interface">
      <term>
        <literal>ovs.of_interface</literal>
      </term>
      <listitem>
        <para>OpenFlow interface to use.</para>
        <warning>
          <para>This option is deprecated for removal.
                        Its value may be silently ignored 
                        in the future.</para>
        </warning>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.datapath_type">
      <term>
        <literal>ovs.datapath_type</literal>
      </term>
      <listitem>
        <para>OVS datapath to use. ‘system’ is the default value and corresponds to the kernel datapath. To enable the userspace datapath set this value to ‘netdev’.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.vhostuser_socket_dir">
      <term>
        <literal>ovs.vhostuser_socket_dir</literal>
      </term>
      <listitem>
        <para>OVS vhost-user socket directory.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.of_listen_address">
      <term>
        <literal>ovs.of_listen_address</literal>
      </term>
      <listitem>
        <para>Address to listen on for OpenFlow connections. Used only for ‘native’ driver.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.of_listen_port">
      <term>
        <literal>ovs.of_listen_port</literal>
      </term>
      <listitem>
        <para>Port to listen on for OpenFlow connections. Used only for ‘native’ driver.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.of_connect_timeout">
      <term>
        <literal>ovs.of_connect_timeout</literal>
      </term>
      <listitem>
        <para>Timeout in seconds to wait for the local switch connecting the controller. Used only for ‘native’ driver.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.of_request_timeout">
      <term>
        <literal>ovs.of_request_timeout</literal>
      </term>
      <listitem>
        <para>Timeout in seconds to wait for a single OpenFlow request. Used only for ‘native’ driver.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.ovsdb_interface">
      <term>
        <literal>ovs.ovsdb_interface</literal>
      </term>
      <listitem>
        <para>The interface for interacting with the OVSDB</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.ovsdb_connection">
      <term>
        <literal>ovs.ovsdb_connection</literal>
      </term>
      <listitem>
        <para>The connection string for the OVSDB backend. Will be used by ovsdb-client when monitoring and used for the all ovsdb commands when native ovsdb_interface is enabled</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <section>
    <title>securitygroup</title>
  </section>
  <variablelist>
    <varlistentry xml:id="securitygroup.firewall_driver">
      <term>
        <literal>securitygroup.firewall_driver</literal>
      </term>
      <listitem>
        <para>Driver for security groups firewall in the L2 agent</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="securitygroup.enable_security_group">
      <term>
        <literal>securitygroup.enable_security_group</literal>
      </term>
      <listitem>
        <para>Controls whether the neutron security group API is enabled in the server. It should be false when using no security groups or using the nova security group API.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="securitygroup.enable_ipset">
      <term>
        <literal>securitygroup.enable_ipset</literal>
      </term>
      <listitem>
        <para>Use ipset to speed-up the iptables based security groups. Enabling ipset support requires that ipset is installed on L2 agent node.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <section>
    <title>xenapi</title>
  </section>
  <variablelist>
    <varlistentry xml:id="xenapi.connection_url">
      <term>
        <literal>xenapi.connection_url</literal>
      </term>
      <listitem>
        <para>URL for connection to XenServer/Xen Cloud Platform.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="xenapi.connection_username">
      <term>
        <literal>xenapi.connection_username</literal>
      </term>
      <listitem>
        <para>Username for connection to XenServer/Xen Cloud Platform.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="xenapi.connection_password">
      <term>
        <literal>xenapi.connection_password</literal>
      </term>
      <listitem>
        <para>Password for connection to XenServer/Xen Cloud Platform.</para>
      </listitem>
    </varlistentry>
  </variablelist>
</section>
