<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>l3_agent.ini</title>
  <section>
    <title>DEFAULT</title>
  </section>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ovs_integration_bridge">
      <term>
        <literal>DEFAULT.ovs_integration_bridge</literal>
      </term>
      <listitem>
        <para>Name of Open vSwitch bridge to use</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ovs_use_veth">
      <term>
        <literal>DEFAULT.ovs_use_veth</literal>
      </term>
      <listitem>
        <para>Uses veth for an OVS interface or not. Support kernels with limited namespace support (e.g. RHEL 6.5) so long as ovs_use_veth is set to True.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.interface_driver">
      <term>
        <literal>DEFAULT.interface_driver</literal>
      </term>
      <listitem>
        <para>The driver used to manage the virtual interface.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ovs_vsctl_timeout">
      <term>
        <literal>DEFAULT.ovs_vsctl_timeout</literal>
      </term>
      <listitem>
        <para>Timeout in seconds for ovs-vsctl commands. If the timeout expires, ovs commands will fail with ALARMCLOCK error.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.bridge_mac_table_size">
      <term>
        <literal>DEFAULT.bridge_mac_table_size</literal>
      </term>
      <listitem>
        <para>The maximum number of MAC addresses to learn on a bridge managed by the Neutron OVS agent. Values outside a reasonable range (10 to 1,000,000) might be overridden by Open vSwitch according to the documentation.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.agent_mode">
      <term>
        <literal>DEFAULT.agent_mode</literal>
      </term>
      <listitem>
        <para>The working mode for the agent. Allowed modes are: ‘legacy’ - this preserves the existing behavior where the L3 agent is deployed on a centralized networking node to provide L3 services like DNAT, and SNAT. Use this mode if you do not want to adopt DVR. ‘dvr’ - this mode enables DVR functionality and must be used for an L3 agent that runs on a compute host. ‘dvr_snat’ - this enables centralized SNAT support in conjunction with DVR.  This mode must be used for an L3 agent running on a centralized node (or in single-host deployments, e.g. devstack). ‘dvr_no_external’ - this mode enables only East/West DVR routing functionality for a L3 agent that runs on a compute host, the North/South functionality such as DNAT and SNAT will be provided by the centralized network node that is running in ‘dvr_snat’ mode. This mode should be used when there is no external network connectivity on the compute host.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.metadata_port">
      <term>
        <literal>DEFAULT.metadata_port</literal>
      </term>
      <listitem>
        <para>TCP Port used by Neutron metadata namespace proxy.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.handle_internal_only_routers">
      <term>
        <literal>DEFAULT.handle_internal_only_routers</literal>
      </term>
      <listitem>
        <para>Indicates that this L3 agent should also handle routers that do not have an external network gateway configured. This option should be True only for a single agent in a Neutron deployment, and may be False for all agents if all routers must have an external network gateway.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.gateway_external_network_id">
      <term>
        <literal>DEFAULT.gateway_external_network_id</literal>
      </term>
      <listitem>
        <para>When external_network_bridge is set, each L3 agent can be associated with no more than one external network. This value should be set to the UUID of that external network. To allow L3 agent support multiple external networks, both the external_network_bridge and gateway_external_network_id must be left empty.</para>
        <warning>
          <para>This option is deprecated for removal.
                        Its value may be silently ignored 
                        in the future.</para>
        </warning>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ipv6_gateway">
      <term>
        <literal>DEFAULT.ipv6_gateway</literal>
      </term>
      <listitem>
        <para>With IPv6, the network used for the external gateway does not need to have an associated subnet, since the automatically assigned link-local address (LLA) can be used. However, an IPv6 gateway address is needed for use as the next-hop for the default route. If no IPv6 gateway address is configured here, (and only then) the neutron router will be configured to get its default route from router advertisements (RAs) from the upstream router; in which case the upstream router must also be configured to send these RAs. The ipv6_gateway, when configured, should be the LLA of the interface on the upstream router. If a next-hop using a global unique address (GUA) is desired, it needs to be done via a subnet allocated to the network and not through this parameter.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.prefix_delegation_driver">
      <term>
        <literal>DEFAULT.prefix_delegation_driver</literal>
      </term>
      <listitem>
        <para>Driver used for ipv6 prefix delegation. This needs to be an entry point defined in the neutron.agent.linux.pd_drivers namespace. See setup.cfg for entry points included with the neutron source.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.enable_metadata_proxy">
      <term>
        <literal>DEFAULT.enable_metadata_proxy</literal>
      </term>
      <listitem>
        <para>Allow running metadata proxy.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.metadata_access_mark">
      <term>
        <literal>DEFAULT.metadata_access_mark</literal>
      </term>
      <listitem>
        <para>Iptables mangle mark used to mark metadata valid requests. This mark will be masked with 0xffff so that only the lower 16 bits will be used.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.external_ingress_mark">
      <term>
        <literal>DEFAULT.external_ingress_mark</literal>
      </term>
      <listitem>
        <para>Iptables mangle mark used to mark ingress from external network. This mark will be masked with 0xffff so that only the lower 16 bits will be used.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.external_network_bridge">
      <term>
        <literal>DEFAULT.external_network_bridge</literal>
      </term>
      <listitem>
        <para>Name of bridge used for external network traffic. When this parameter is set, the L3 agent will plug an interface directly into an external bridge which will not allow any wiring by the L2 agent. Using this will result in incorrect port statuses. This option is deprecated and will be removed in Ocata.</para>
        <warning>
          <para>This option is deprecated for removal.
                        Its value may be silently ignored 
                        in the future.</para>
        </warning>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.periodic_interval">
      <term>
        <literal>DEFAULT.periodic_interval</literal>
      </term>
      <listitem>
        <para>Seconds between running periodic tasks.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.api_workers">
      <term>
        <literal>DEFAULT.api_workers</literal>
      </term>
      <listitem>
        <para>Number of separate API worker processes for service. If not specified, the default is equal to the number of CPUs available for best performance.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.rpc_workers">
      <term>
        <literal>DEFAULT.rpc_workers</literal>
      </term>
      <listitem>
        <para>Number of RPC worker processes for service.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.rpc_state_report_workers">
      <term>
        <literal>DEFAULT.rpc_state_report_workers</literal>
      </term>
      <listitem>
        <para>Number of RPC worker processes dedicated to state reports queue.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.periodic_fuzzy_delay">
      <term>
        <literal>DEFAULT.periodic_fuzzy_delay</literal>
      </term>
      <listitem>
        <para>Range of seconds to randomly delay when starting the periodic task scheduler to reduce stampeding. (Disable by setting to 0)</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ha_confs_path">
      <term>
        <literal>DEFAULT.ha_confs_path</literal>
      </term>
      <listitem>
        <para>Location to store keepalived/conntrackd config files</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ha_vrrp_auth_type">
      <term>
        <literal>DEFAULT.ha_vrrp_auth_type</literal>
      </term>
      <listitem>
        <para>VRRP authentication type</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ha_vrrp_auth_password">
      <term>
        <literal>DEFAULT.ha_vrrp_auth_password</literal>
      </term>
      <listitem>
        <para>VRRP authentication password</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ha_vrrp_advert_int">
      <term>
        <literal>DEFAULT.ha_vrrp_advert_int</literal>
      </term>
      <listitem>
        <para>The advertisement interval in seconds</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ha_keepalived_state_change_server_threads">
      <term>
        <literal>DEFAULT.ha_keepalived_state_change_server_threads</literal>
      </term>
      <listitem>
        <para>Number of concurrent threads for keepalived server connection requests. More threads create a higher CPU load on the agent node.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ha_vrrp_health_check_interval">
      <term>
        <literal>DEFAULT.ha_vrrp_health_check_interval</literal>
      </term>
      <listitem>
        <para>The VRRP health check interval in seconds. Values &gt; 0 enable VRRP health checks. Setting it to 0 disables VRRP health checks. Recommended value is 5. This will cause pings to be sent to the gateway IP address(es) - requires ICMP_ECHO_REQUEST to be enabled on the gateway. If gateway fails, all routers will be reported as master, and master election will be repeated in round-robin fashion, until one of the router restore the gateway connection.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.pd_dhcp_driver">
      <term>
        <literal>DEFAULT.pd_dhcp_driver</literal>
      </term>
      <listitem>
        <para>Service to handle DHCPv6 Prefix delegation.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.ra_confs">
      <term>
        <literal>DEFAULT.ra_confs</literal>
      </term>
      <listitem>
        <para>Location to store IPv6 RA config files</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.min_rtr_adv_interval">
      <term>
        <literal>DEFAULT.min_rtr_adv_interval</literal>
      </term>
      <listitem>
        <para>MinRtrAdvInterval setting for radvd.conf</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="DEFAULT.max_rtr_adv_interval">
      <term>
        <literal>DEFAULT.max_rtr_adv_interval</literal>
      </term>
      <listitem>
        <para>MaxRtrAdvInterval setting for radvd.conf</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <section>
    <title>agent</title>
  </section>
  <variablelist>
    <varlistentry xml:id="agent.availability_zone">
      <term>
        <literal>agent.availability_zone</literal>
      </term>
      <listitem>
        <para>Availability zone of this node</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.report_interval">
      <term>
        <literal>agent.report_interval</literal>
      </term>
      <listitem>
        <para>Seconds between nodes reporting state to server; should be less than agent_down_time, best if it is half or less than agent_down_time.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.log_agent_heartbeats">
      <term>
        <literal>agent.log_agent_heartbeats</literal>
      </term>
      <listitem>
        <para>Log agent heartbeats</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="agent.extensions">
      <term>
        <literal>agent.extensions</literal>
      </term>
      <listitem>
        <para>Extensions list to use</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <section>
    <title>ovs</title>
  </section>
  <variablelist>
    <varlistentry xml:id="ovs.ovsdb_interface">
      <term>
        <literal>ovs.ovsdb_interface</literal>
      </term>
      <listitem>
        <para>The interface for interacting with the OVSDB</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <varlistentry xml:id="ovs.ovsdb_connection">
      <term>
        <literal>ovs.ovsdb_connection</literal>
      </term>
      <listitem>
        <para>The connection string for the OVSDB backend. Will be used by ovsdb-client when monitoring and used for the all ovsdb commands when native ovsdb_interface is enabled</para>
      </listitem>
    </varlistentry>
  </variablelist>
</section>
