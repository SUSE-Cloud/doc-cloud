<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>Compute node</title>
  <section>
    <title>Configure network interfaces</title>
    <procedure>
      <step>
        <para>Configure the first interface as the management interface:</para>
        <para>IP address: 10.0.0.31</para>
        <para>Network mask: 255.255.255.0 (or /24)</para>
        <para>Default gateway: 10.0.0.1</para>
        <note>
          <para>Additional compute nodes should use 10.0.0.32, 10.0.0.33, and so on.</para>
        </note>
      </step>
      <step>
        <para>The provider interface uses a special configuration without an IP
                        address assigned to it. Configure the second interface as the provider
                        interface:</para>
        <para>Replace <literal>INTERFACE_NAME</literal> with the actual interface name. For example,
                        <emphasis>eth1</emphasis> or <emphasis>ens224</emphasis>.</para>
      </step>
    </procedure>
    <itemizedlist>
      <listitem>
        <para>Edit the <literal>/etc/network/interfaces</literal> file to contain the following:</para>
        <screen language="bash"># The provider network interface
auto INTERFACE_NAME
iface  INTERFACE_NAME inet manual
up ip link set dev $IFACE up
down ip link set dev $IFACE down</screen>
      </listitem>
    </itemizedlist>
    <procedure>
      <step>
        <para>Reboot the system to activate the changes.</para>
      </step>
    </procedure>
  </section>
  <section>
    <title>Configure name resolution</title>
    <procedure>
      <step>
        <para>Set the hostname of the node to <literal>compute1</literal>.</para>
      </step>
      <step>
        <para>Edit the <literal>/etc/hosts</literal> file to contain the following:</para>
        <screen language="none"># controller
10.0.0.11       controller

# compute1
10.0.0.31       compute1

# block1
10.0.0.41       block1

# object1
10.0.0.51       object1

# object2
10.0.0.52       object2</screen>
        <warning>
          <para>Some distributions add an extraneous entry in the <literal>/etc/hosts</literal>
                            file that resolves the actual hostname to another loopback IP
                            address such as <literal>127.0.1.1</literal>. You must comment out or remove this
                            entry to prevent name resolution problems.
                            <emphasis role="bold">Do not remove the 127.0.0.1 entry.</emphasis></para>
        </warning>
        <note>
          <para>This guide includes host entries for optional services in order to reduce
                            complexity should you choose to deploy them.</para>
        </note>
      </step>
    </procedure>
  </section>
</section>
