<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>neutron-sanity-check command-line client</title>
  <para>The <command>neutron-sanity-check</command> client is a tool that checks various
            sanity about the Networking service.</para>
  <para>This chapter documents <command>neutron-sanity-check</command> version <literal>10.0.0</literal>.</para>
  <section>
    <title>neutron-sanity-check usage</title>
    <screen language="console">usage: neutron-sanity-check [-h] [--arp_header_match] [--arp_responder]
                            [--bridge_firewalling] [--config-dir DIR]
                            [--config-file PATH] [--debug] [--dhcp_release6]
                            [--dibbler_version] [--dnsmasq_version]
                            [--ebtables_installed] [--icmpv6_header_match]
                            [--ip6tables_installed] [--ip_nonlocal_bind]
                            [--iproute2_vxlan] [--ipset_installed]
                            [--keepalived_ipv6_support]
                            [--log-config-append PATH]
                            [--log-date-format DATE_FORMAT]
                            [--log-dir LOG_DIR] [--log-file PATH]
                            [--noarp_header_match] [--noarp_responder]
                            [--nobridge_firewalling] [--nodebug]
                            [--nodhcp_release6] [--nodibbler_version]
                            [--nodnsmasq_version] [--noebtables_installed]
                            [--noicmpv6_header_match]
                            [--noip6tables_installed] [--noip_nonlocal_bind]
                            [--noiproute2_vxlan] [--noipset_installed]
                            [--nokeepalived_ipv6_support] [--nonova_notify]
                            [--noovs_conntrack] [--noovs_geneve]
                            [--noovs_patch] [--noovs_vxlan] [--noovsdb_native]
                            [--noread_netns] [--nouse-syslog] [--nova_notify]
                            [--noverbose] [--novf_extended_management]
                            [--novf_management] [--nowatch-log-file]
                            [--ovs_conntrack] [--ovs_geneve] [--ovs_patch]
                            [--ovs_vxlan] [--ovsdb_native] [--read_netns]
                            [--state_path STATE_PATH]
                            [--syslog-log-facility SYSLOG_LOG_FACILITY]
                            [--use-syslog] [--verbose] [--version]
                            [--vf_extended_management] [--vf_management]
                            [--watch-log-file]</screen>
  </section>
  <section>
    <title>neutron-sanity-check optional arguments</title>
    <variablelist>
      <varlistentry>
        <term>
          <literal>-h, --help</literal>
        </term>
        <listitem>
          <para>show this help message and exit</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--arp_header_match</literal>
        </term>
        <listitem>
          <para>Check for ARP header match support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--arp_responder</literal>
        </term>
        <listitem>
          <para>Check for ARP responder support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--bridge_firewalling</literal>
        </term>
        <listitem>
          <para>Check bridge firewalling</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--ip_nonlocal_bind</literal>
        </term>
        <listitem>
          <para>Check ip_nonlocal_bind kernel option works with network namespaces.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--config-dir DIR</literal>
        </term>
        <listitem>
          <para>Path to a config directory to pull <literal>*.conf</literal> files from.
                            This file set is sorted, so as to provide a predictable parse order
                            if individual options are over-ridden. The set is parsed after the file(s)
                            specified via previous –config-file, arguments hence
                            over-ridden options in the directory take precedence.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--config-file PATH</literal>
        </term>
        <listitem>
          <para>Path to a config file to use. Multiple config files can be specified,
                            with values in later files taking precedence. Dafaults to <literal>None</literal>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--debug, -d</literal>
        </term>
        <listitem>
          <para>Print debugging output (set logging level to <literal>DEBUG</literal> instead of default
                            <literal>INFO</literal> level).</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--dhcp_release6</literal>
        </term>
        <listitem>
          <para>Check dhcp_release6 installation</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--dibbler_version</literal>
        </term>
        <listitem>
          <para>Check minimal dibbler version</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--dnsmasq_version</literal>
        </term>
        <listitem>
          <para>Check minimal dnsmasq version</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--ebtables_installed</literal>
        </term>
        <listitem>
          <para>Check ebtables installation</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--icmpv6_header_match</literal>
        </term>
        <listitem>
          <para>Check for ICMPv6 header match support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--ip6tables_installed</literal>
        </term>
        <listitem>
          <para>Check ip6tables installation</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--iproute2_vxlan</literal>
        </term>
        <listitem>
          <para>Check for iproute2 vxlan support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--ipset_installed</literal>
        </term>
        <listitem>
          <para>Check ipset installation</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--keepalived_ipv6_support</literal>
        </term>
        <listitem>
          <para>Check keepalived IPv6 support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--log-config-append PATH, --log_config PATH</literal>
        </term>
        <listitem>
          <para>The name of a logging configuration file. This file is appended to any
                            existing logging configuration files. For details about logging
                            configuration files, see the Python logging module documentation.
                            Note that when logging configuration files are used then all logging
                            configuration is set in the configuration file and other logging
                            configuration options are ignored (for example,
                            <literal>logging_context_format_string</literal>).</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--log-date-format DATE_FORMAT</literal>
        </term>
        <listitem>
          <para>Format string for %(asctime)s in log records. Default: None.
                            This option is ignored if <literal>log_config_append</literal> is set.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--log-dir LOG_DIR, --logdir LOG_DIR</literal>
        </term>
        <listitem>
          <para>(Optional) The base directory used for relative <literal>log-file</literal> paths.
                            This option is ignored if <literal>log_config_append</literal> is set.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--log-file PATH, --logfile PATH</literal>
        </term>
        <listitem>
          <para>(Optional) Name of log file to output to. If no default is set,
                            logging will go to stderr as defined by <literal>use_stderr</literal>.
                            This option is ignored if <literal>log_config_append</literal> is set.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noarp_header_match</literal>
        </term>
        <listitem>
          <para>The inverse of –arp_header_match</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noarp_responder</literal>
        </term>
        <listitem>
          <para>The inverse of –arp_responder</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nobridge_firewalling</literal>
        </term>
        <listitem>
          <para>The inverse of –bridge_firewalling</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nodebug</literal>
        </term>
        <listitem>
          <para>The inverse of –debug</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nodhcp_release6</literal>
        </term>
        <listitem>
          <para>The inverse of –dhcp_release6</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nodibbler_version</literal>
        </term>
        <listitem>
          <para>The inverse of –dibbler_version</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nodnsmasq_version</literal>
        </term>
        <listitem>
          <para>The inverse of –dnsmasq_version</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noebtables_installed</literal>
        </term>
        <listitem>
          <para>The inverse of –ebtables_installed</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noicmpv6_header_match</literal>
        </term>
        <listitem>
          <para>The inverse of –icmpv6_header_match</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noip6tables_installed</literal>
        </term>
        <listitem>
          <para>The inverse of –ip6tables_installed</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noip_nonlocal_bind</literal>
        </term>
        <listitem>
          <para>The inverse of –ip_nonlocal_bind</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noiproute2_vxlan</literal>
        </term>
        <listitem>
          <para>The inverse of –iproute2_vxlan</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noipset_installed</literal>
        </term>
        <listitem>
          <para>The inverse of –ipset_installed</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nokeepalived_ipv6_support</literal>
        </term>
        <listitem>
          <para>The inverse of –keepalived_ipv6_support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nonova_notify</literal>
        </term>
        <listitem>
          <para>The inverse of –nova_notify</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noovs_conntrack</literal>
        </term>
        <listitem>
          <para>The inverse of –ovs_conntrack</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noovs_geneve</literal>
        </term>
        <listitem>
          <para>The inverse of –ovs_geneve</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noovs_patch</literal>
        </term>
        <listitem>
          <para>The inverse of –ovs_patch</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noovs_vxlan</literal>
        </term>
        <listitem>
          <para>The inverse of –ovs_vxlan</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noovsdb_native</literal>
        </term>
        <listitem>
          <para>The inverse of –ovsdb_native</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noread_netns</literal>
        </term>
        <listitem>
          <para>The inverse of –read_netns</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nouse-syslog</literal>
        </term>
        <listitem>
          <para>The inverse of –use-syslog</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nova_notify</literal>
        </term>
        <listitem>
          <para>Check for nova notification support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--noverbose</literal>
        </term>
        <listitem>
          <para>The inverse of –verbose</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--novf_extended_management</literal>
        </term>
        <listitem>
          <para>The inverse of –vf_extended_management</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--novf_management</literal>
        </term>
        <listitem>
          <para>The inverse of –vf_management</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--nowatch-log-file</literal>
        </term>
        <listitem>
          <para>The inverse of –watch-log-file</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--ovs_geneve</literal>
        </term>
        <listitem>
          <para>Check for OVS Geneve support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--ovs_patch</literal>
        </term>
        <listitem>
          <para>Check for patch port support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--ovs_vxlan</literal>
        </term>
        <listitem>
          <para>Check for OVS vxlan support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--ovsdb_native</literal>
        </term>
        <listitem>
          <para>Check ovsdb native interface support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--read_netns</literal>
        </term>
        <listitem>
          <para>Check netns permission settings</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--state_path STATE_PATH</literal>
        </term>
        <listitem>
          <para>Where to store Neutron state files. This directory must be writable
                            by the agent.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--syslog-log-facility SYSLOG_LOG_FACILITY</literal>
        </term>
        <listitem>
          <para>Syslog facility to receive log lines.
                            This option is ignored if <literal>log_config_append</literal> is set.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--use-syslog</literal>
        </term>
        <listitem>
          <para>Use syslog for logging. Existing syslog format is
                            <emphasis role="bold">DEPRECATED</emphasis> and will be changed later to honor RFC5424.
                            This option is ignored if <literal>log_config_append</literal> is set.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--verbose, -v</literal>
        </term>
        <listitem>
          <para>If set to <literal>false</literal>, the logging level will be set to
                            <literal>WARNING</literal> instead of the default <literal>INFO</literal> level.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--version</literal>
        </term>
        <listitem>
          <para>show program’s version number and exit</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--vf_extended_management</literal>
        </term>
        <listitem>
          <para>Check for VF extended management support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--vf_management</literal>
        </term>
        <listitem>
          <para>Check for VF management support</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <literal>--watch-log-file</literal>
        </term>
        <listitem>
          <para>Uses logging handler designed to watch file system.
                            When log file is moved or removed this handler will open a new log
                            file with specified path instantaneously. It makes sense only if
                            <literal>log_file</literal> option is specified and Linux platform is used.
                            This option is ignored if <literal>log_config_append</literal> is set.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>
</section>
