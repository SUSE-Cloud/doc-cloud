<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>Configure networking</title>
  <para>Before you start deploying the Object Storage service in your OpenStack
            environment, configure networking for two additional storage nodes.</para>
  <section>
    <title>First node</title>
    <section>
      <title>Configure network interfaces</title>
      <itemizedlist>
        <listitem>
          <para>Configure the management interface:</para>
          <itemizedlist>
            <listitem>
              <para>IP address: <literal>10.0.0.51</literal></para>
            </listitem>
            <listitem>
              <para>Network mask: <literal>255.255.255.0</literal> (or <literal>/24</literal>)</para>
            </listitem>
            <listitem>
              <para>Default gateway: <literal>10.0.0.1</literal></para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>Configure name resolution</title>
      <procedure>
        <step>
          <para>Set the hostname of the node to <literal>object1</literal>.</para>
        </step>
        <step>
          <para>Edit the <literal>/etc/hosts</literal> file to contain the following:</para>
          <screen language="none"># controller
10.0.0.11       controller

# compute1
10.0.0.31       compute1

# block1
10.0.0.41       block1

# object1
10.0.0.51       object1

# object2
10.0.0.52       object2</screen>
        </step>
        <step>
          <para>Reboot the system to activate the changes.</para>
        </step>
      </procedure>
    </section>
  </section>
  <section>
    <title>Second node</title>
    <section>
      <title>Configure network interfaces</title>
      <itemizedlist>
        <listitem>
          <para>Configure the management interface:</para>
          <itemizedlist>
            <listitem>
              <para>IP address: <literal>10.0.0.52</literal></para>
            </listitem>
            <listitem>
              <para>Network mask: <literal>255.255.255.0</literal> (or <literal>/24</literal>)</para>
            </listitem>
            <listitem>
              <para>Default gateway: <literal>10.0.0.1</literal></para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
    <section xml:id="id2">
      <title>Configure name resolution</title>
      <procedure>
        <step>
          <para>Set the hostname of the node to <literal>object2</literal>.</para>
        </step>
        <step>
          <para>Edit the <literal>/etc/hosts</literal> file to contain the following:</para>
          <screen language="none"># controller
10.0.0.11       controller

# compute1
10.0.0.31       compute1

# block1
10.0.0.41       block1

# object1
10.0.0.51       object1

# object2
10.0.0.52       object2</screen>
        </step>
        <step>
          <para>Reboot the system to activate the changes.</para>
        </step>
      </procedure>
      <warning>
        <para>Some distributions add an extraneous entry in the <literal>/etc/hosts</literal>
                        file that resolves the actual hostname to another loopback IP
                        address such as <literal>127.0.1.1</literal>. You must comment out or remove this
                        entry to prevent name resolution problems. <emphasis role="bold">Do not remove the
                            127.0.0.1 entry.</emphasis></para>
      </warning>
      <note>
        <para>To reduce complexity of this guide, we add host entries for optional
                        services regardless of whether you choose to deploy them.</para>
      </note>
    </section>
  </section>
</section>
