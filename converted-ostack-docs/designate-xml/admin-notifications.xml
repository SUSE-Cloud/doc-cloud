<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>Notifications</title>
  <para>Notifications are RPC calls that contain a JSON object. Designate both generates and receives notifications.</para>
  <para>The purpose of notifications in to inform unrelated OpenStack components of events in real time and trigger actions.</para>
  <section>
    <title>Emitters</title>
    <para>They are emitted by Central on the following events:</para>
    <itemizedlist>
      <listitem>
        <para>dns.tld.create</para>
      </listitem>
      <listitem>
        <para>dns.tld.update</para>
      </listitem>
      <listitem>
        <para>dns.tld.delete</para>
      </listitem>
      <listitem>
        <para>dns.tsigkey.create</para>
      </listitem>
      <listitem>
        <para>dns.tsigkey.update</para>
      </listitem>
      <listitem>
        <para>dns.tsigkey.delete</para>
      </listitem>
      <listitem>
        <para>dns.domain.create</para>
      </listitem>
      <listitem>
        <para>dns.zone.create</para>
      </listitem>
      <listitem>
        <para>dns.domain.update</para>
      </listitem>
      <listitem>
        <para>dns.zone.update</para>
      </listitem>
      <listitem>
        <para>dns.domain.delete</para>
      </listitem>
      <listitem>
        <para>dns.zone.delete</para>
      </listitem>
      <listitem>
        <para>dns.zone.touch</para>
      </listitem>
      <listitem>
        <para>dns.recordset.create</para>
      </listitem>
      <listitem>
        <para>dns.recordset.update</para>
      </listitem>
      <listitem>
        <para>dns.recordset.delete</para>
      </listitem>
      <listitem>
        <para>dns.record.create</para>
      </listitem>
      <listitem>
        <para>dns.record.update</para>
      </listitem>
      <listitem>
        <para>dns.record.delete</para>
      </listitem>
      <listitem>
        <para>dns.blacklist.create</para>
      </listitem>
      <listitem>
        <para>dns.blacklist.update</para>
      </listitem>
      <listitem>
        <para>dns.blacklist.delete</para>
      </listitem>
      <listitem>
        <para>dns.pool.create</para>
      </listitem>
      <listitem>
        <para>dns.pool.update</para>
      </listitem>
      <listitem>
        <para>dns.pool.delete</para>
      </listitem>
      <listitem>
        <para>dns.domain.update</para>
      </listitem>
      <listitem>
        <para>dns.zone.update</para>
      </listitem>
      <listitem>
        <para>dns.zone_transfer_request.create</para>
      </listitem>
      <listitem>
        <para>dns.zone_transfer_request.update</para>
      </listitem>
      <listitem>
        <para>dns.zone_transfer_request.delete</para>
      </listitem>
      <listitem>
        <para>dns.zone_transfer_accept.create</para>
      </listitem>
      <listitem>
        <para>dns.zone_transfer_accept.update</para>
      </listitem>
      <listitem>
        <para>dns.zone_transfer_accept.delete</para>
      </listitem>
      <listitem>
        <para>dns.zone_import.create</para>
      </listitem>
      <listitem>
        <para>dns.zone_import.update</para>
      </listitem>
      <listitem>
        <para>dns.zone_import.delete</para>
      </listitem>
      <listitem>
        <para>dns.zone_export.create</para>
      </listitem>
      <listitem>
        <para>dns.zone_export.update</para>
      </listitem>
      <listitem>
        <para>dns.zone_export.delete</para>
      </listitem>
    </itemizedlist>
  </section>
  <section>
    <title>Receivers</title>
  </section>
  <section>
    <title>Format</title>
    <para>An example notification from Neutron:</para>
    <screen>{
   "priority" : "INFO",
   "message_id" : "95ecdca3-967f-40aa-9469-d9fccc91d64b",
   "event_type" : "port.delete.start",
   "_context_roles" : [
      "Member"
   ],
   "_context_tenant_id" : "c97027dd880d4c129ae7a4ba7edade05",
   "timestamp" : "2012-11-16 12:56:17.155860",
   "_context_is_admin" : false,
   "_context_user_id" : "4ce5c085e09a478ea4edcd667a92df78",
   "payload" : {
      "port_id" : "bfdcb007-f68d-46bd-8150-abcae9fb3af6"
   },
   "_context_timestamp" : "2012-11-16 12:56:17.154672",
   "publisher_id" : "network.svc02.os.lan",
   "_context_read_deleted" : "no"
}
</screen>
    <para>More examples can be found at <literal>designate/tests/resources/sample_notifications</literal></para>
  </section>
</section>
