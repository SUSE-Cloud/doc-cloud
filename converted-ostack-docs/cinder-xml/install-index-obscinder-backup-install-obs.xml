<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>Install and configure the backup service</title>
  <para>Optionally, install and configure the backup service. For simplicity,
            this configuration uses the Block Storage node and the Object Storage
            (swift) driver, thus depending on the
            <link xlink:href="https://docs.openstack.org/project-install-guide/object-storage/ocata/">Object Storage service</link>.</para>
  <note>
    <para>You must <xref linkend="cinder-storage"/> prior
                to installing and configuring the backup service.</para>
  </note>
  <section>
    <title>Install and configure components</title>
    <note>
      <para>Perform these steps on the Block Storage node.</para>
    </note>
    <procedure>
      <step>
        <para>Install the packages:</para>
        <screen language="console"># zypper install openstack-cinder-backup</screen>
      </step>
      <step>
        <para>Edit the <literal>/etc/cinder/cinder.conf</literal> file
                        and complete the following actions:</para>
        <procedure>
          <step>
            <para>In the <literal>[DEFAULT]</literal> section, configure backup options:</para>
            <screen language="ini">[DEFAULT]
# ...
backup_driver = cinder.backup.drivers.swift
backup_swift_url = SWIFT_URL</screen>
            <para>Replace <literal>SWIFT_URL</literal> with the URL of the Object Storage service. The
                                URL can be found by showing the object-store API endpoints:</para>
            <screen language="console">$ openstack catalog show object-store</screen>
          </step>
        </procedure>
      </step>
    </procedure>
  </section>
  <section>
    <title>Finalize installation</title>
    <para>Start the Block Storage backup service and configure it to
                start when the system boots:</para>
    <screen language="console"># systemctl enable openstack-cinder-backup.service
# systemctl start openstack-cinder-backup.service</screen>
  </section>
</section>
