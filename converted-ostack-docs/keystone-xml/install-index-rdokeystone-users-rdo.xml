<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>Create a domain, projects, users, and roles</title>
  <para>The Identity service provides authentication services for each OpenStack
            service. The authentication service uses a combination of domains,
            projects, users, and roles.</para>
  <procedure>
    <step>
      <para>This guide uses a service project that contains a unique user for each
                    service that you add to your environment. Create the <literal>service</literal>
                    project:</para>
      <screen language="console">$ openstack project create --domain default \
  --description "Service Project" service

+-------------+----------------------------------+
| Field       | Value                            |
+-------------+----------------------------------+
| description | Service Project                  |
| domain_id   | default                          |
| enabled     | True                             |
| id          | 24ac7f19cd944f4cba1d77469b2a73ed |
| is_domain   | False                            |
| name        | service                          |
| parent_id   | default                          |
+-------------+----------------------------------+</screen>
    </step>
    <step>
      <para>Regular (non-admin) tasks should use an unprivileged project and user.
                    As an example, this guide creates the <literal>demo</literal> project and user.</para>
      <itemizedlist>
        <listitem>
          <para>Create the <literal>demo</literal> project:</para>
          <screen language="console">$ openstack project create --domain default \
  --description "Demo Project" demo

+-------------+----------------------------------+
| Field       | Value                            |
+-------------+----------------------------------+
| description | Demo Project                     |
| domain_id   | default                          |
| enabled     | True                             |
| id          | 231ad6e7ebba47d6a1e57e1cc07ae446 |
| is_domain   | False                            |
| name        | demo                             |
| parent_id   | default                          |
+-------------+----------------------------------+</screen>
          <note>
            <para>Do not repeat this step when creating additional users for this
                                project.</para>
          </note>
        </listitem>
        <listitem>
          <para>Create the <literal>demo</literal> user:</para>
          <screen language="console">$ openstack user create --domain default \
  --password-prompt demo

User Password:
Repeat User Password:
+---------------------+----------------------------------+
| Field               | Value                            |
+---------------------+----------------------------------+
| domain_id           | default                          |
| enabled             | True                             |
| id                  | aeda23aa78f44e859900e22c24817832 |
| name                | demo                             |
| options             | {}                               |
| password_expires_at | None                             |
+---------------------+----------------------------------+</screen>
        </listitem>
        <listitem>
          <para>Create the <literal>user</literal> role:</para>
          <screen language="console">$ openstack role create user

+-----------+----------------------------------+
| Field     | Value                            |
+-----------+----------------------------------+
| domain_id | None                             |
| id        | 997ce8d05fc143ac97d83fdfb5998552 |
| name      | user                             |
+-----------+----------------------------------+</screen>
        </listitem>
        <listitem>
          <para>Add the <literal>user</literal> role to the <literal>demo</literal> project and user:</para>
          <screen language="console">$ openstack role add --project demo --user demo user</screen>
          <note>
            <para>This command provides no output.</para>
          </note>
        </listitem>
      </itemizedlist>
    </step>
  </procedure>
  <note>
    <para>You can repeat this procedure to create additional projects and
                users.</para>
  </note>
</section>
