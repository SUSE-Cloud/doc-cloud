<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.14 -->
<document source="/run/media/dpopov/DATAPART1/Git/openstack-docs/cloudkitty/doc/source/install/install-source.rst">
    <section ids="install-from-source" names="install\ from\ source">
        <title>Install from source</title>
        <section ids="install-the-services" names="install\ the\ services">
            <title>Install the services</title>
            <paragraph>Retrieve and install cloudkitty:</paragraph>
            <literal_block xml:space="preserve">git clone https://git.openstack.org/openstack/cloudkitty.git
cd cloudkitty
python setup.py install</literal_block>
            <paragraph>This procedure installs the <literal>cloudkitty</literal> python library and the
                following executables:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph><literal>cloudkitty-api</literal>: API service</paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>cloudkitty-processor</literal>: Processing service (collecting and rating)</paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>cloudkitty-dbsync</literal>: Tool to create and upgrade the database schema</paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>cloudkitty-storage-init</literal>: Tool to initiate the storage backend</paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>cloudkitty-writer</literal>: Reporting tool</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Install sample configuration files:</paragraph>
            <literal_block xml:space="preserve">mkdir /etc/cloudkitty
tox -e genconfig
cp etc/cloudkitty/cloudkitty.conf.sample /etc/cloudkitty/cloudkitty.conf
cp etc/cloudkitty/policy.json /etc/cloudkitty
cp etc/cloudkitty/api_paste.ini /etc/cloudkitty</literal_block>
            <paragraph>Create the log directory:</paragraph>
            <literal_block xml:space="preserve">mkdir /var/log/cloudkitty/</literal_block>
        </section>
        <section ids="install-the-client" names="install\ the\ client">
            <title>Install the client</title>
            <paragraph>Retrieve and install cloudkitty client:</paragraph>
            <literal_block xml:space="preserve">git clone https://git.openstack.org/openstack/python-cloudkittyclient.git
cd python-cloudkittyclient
python setup.py install</literal_block>
        </section>
        <section ids="install-the-dashboard-module" names="install\ the\ dashboard\ module">
            <title>Install the dashboard module</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Retrieve and install cloudkittyâ€™s dashboard:</paragraph>
                    <literal_block xml:space="preserve">git clone https://git.openstack.org/openstack/cloudkitty-dashboard.git
cd cloudkitty-dashboard
python setup.py install</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Find where the python packages are installed:</paragraph>
                    <literal_block xml:space="preserve">PY_PACKAGES_PATH=`pip --version | cut -d' ' -f4`</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Add the enabled file to the horizon settings or installation.
                        Depending on your setup, you might need to add it to <literal>/usr/share</literal> or
                        directly in the horizon python package:</paragraph>
                    <literal_block xml:space="preserve"># If horizon is installed by packages:
ln -sf $PY_PACKAGES_PATH/cloudkittydashboard/enabled/_[0-9]*.py \
/usr/share/openstack-dashboard/openstack_dashboard/enabled/

# Directly from sources:
ln -sf $PY_PACKAGES_PATH/cloudkittydashboard/enabled/_[0-9]*.py \
$PY_PACKAGES_PATH/openstack_dashboard/enabled/</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Restart the web server hosting Horizon.</paragraph>
                </list_item>
            </enumerated_list>
        </section>
    </section>
</document>
