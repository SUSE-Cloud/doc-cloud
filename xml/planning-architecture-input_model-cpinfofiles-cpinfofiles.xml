<?xml version="1.0"?>
<!DOCTYPE chapter [
 <!ENTITY % entities SYSTEM "entities.ent"> %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cpinfofiles" version="5.1">
 <title>Configuration Processor Information Files</title>
 <para>
  In addition to producing all of the data needed to deploy and configure the
  cloud, the configuration processor also creates a number of information files
  that provide details of the resulting configuration.
 </para>
 <para>
  These files can be found in <literal>~/openstack/my_cloud/info</literal>
  after the first configuration processor run. This directory is also rebuilt
  each time the Configuration Processor is run.
 </para>
 <para>
  Most of the files are in YAML format, allowing them to be used in further
  automation tasks if required.
 </para>
 <informaltable>
  <tgroup cols="2">
   <colspec colnum="1" colname="col1"/>
   <colspec colnum="2" colname="col2"/>
   <thead>
    <row>
     <entry>File</entry>
     <entry>Provides details of</entry>
    </row>
   </thead>
   <tbody>
    <row>
     <entry><filename>address_info.yml</filename>
     </entry>
     <entry>
      IP address assignments on each network. See
      <xref linkend="address_info_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>firewall_info.yml</filename>
     </entry>
     <entry>
      All ports that are open on each network by the firewall configuration.
      Can be used if you want to configure an additional firewall in front of
      the API network, for example. See <xref linkend="firewall_info_yml"/>
     </entry>
    </row>
    <!-- net_info.yml in SOC8 is empty
         <row>
     <entry><filename>net_info.yml</filename>
     </entry>
     <entry>
      IP addresses assigned to services. See
      <xref linkend="net_info_yml"/>
     </entry>
    </row> -->
    <row>
     <entry><filename>route_info.yml</filename>
     </entry>
     <entry>
      Routes that need to be configured between networks. See
      <xref linkend="route_info_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>server_info.yml</filename>
     </entry>
     <entry>
      How servers have been allocated, including their network configuration.
      Allows details of a server to be found from its ID. See
      <xref linkend="server_info_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>service_info.yml</filename>
     </entry>
     <entry>
      Details of where components of each service are deployed. See
      <xref linkend="service_info_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>control_plane_topology.yml</filename>
     </entry>
     <entry>
      Details the structure of the cloud from the perspective of each
      control-plane. See <xref linkend="control_plane_topology_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>network_topology.yml</filename>
     </entry>
     <entry>
      Details the structure of the cloud from the perspective of each
      control-plane. See <xref linkend="network_topology_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>region_topology.yml</filename>
     </entry>
     <entry>
      Details the structure of the cloud from the perspective of each region.
      See <xref linkend="region_topology_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>service_topology.yml</filename>
     </entry>
     <entry>
      Details the structure of the cloud from the perspective of each
      service. See <xref linkend="service_topology_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>private_data_metadata_ccp.yml</filename>
     </entry>
     <entry>
      Details the secrets that are generated by the configuration processor –
      the names of the secrets, along with the service(s) that use each
      secret and a list of the clusters on which the service that consumes
      the secret is deployed. See <xref linkend="private_data_metadata_ccp.yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>password_change.yml</filename>
     </entry>
     <entry>
      Details the secrets that have been changed by the configuration
      processor – information for each secret is the same as for
      <literal>private_data_metadata_ccp.yml</literal>. See
      <xref linkend="password_change_yml"/>
     </entry>
    </row>
    <row>
     <entry><filename>explain.txt</filename>
     </entry>
     <entry>
      An explanation of the decisions the configuration processor has made
      when allocating servers and networks. See <xref linkend="explain_txt"/>
     </entry>
    </row>
    <row>
     <entry><filename>CloudDiagram.txt</filename>
     </entry>
     <entry>A pictorial representation of the cloud. See <xref
                            linkend="clouddiagram_txt"/>
     </entry>
    </row>
   </tbody>
  </tgroup>
 </informaltable>
 <para>
  The examples are taken from the <literal>entry-scale-kvm</literal>
  example configuration.
 </para>
 <xi:include href="planning-architecture-input_model-cpinfofiles-address_info_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-firewall_info_yml.xml"/>
 <!-- <xi:include href="planning-architecture-input_model-cpinfofiles-net_info_yml.xml"/> -->
 <xi:include href="planning-architecture-input_model-cpinfofiles-route_info_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-server_info_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-service_info_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-control_plane_topology_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-network_topology_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-region_topology_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-service_topology_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-private_data_metadata_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-password_change_yml.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-explain_txt.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-clouddiagram_txt.xml"/>
 <xi:include href="planning-architecture-input_model-cpinfofiles-html_representation.xml"/>
</chapter>
