<?xml version="1.0"?>
<!DOCTYPE section [
 <!ENTITY % entities SYSTEM "entities.ent"> %entities;
]>
<!---->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="add_datadisk_osd"><title>&kw-hos-tm; &kw-hos-version-50;: Adding a Data Disk to the Object Storage Daemon
    (OSD) Nodes</title><abstract><para><para>Steps for adding additional data disks to your OSD
      nodes.</para>If you want to add additional data disks to your existing OSD nodes,
    these steps will show you how to.</para>
</abstract>
    <!---->
    <para><para xml:id="idg-all-operations-maintenance-ceph-add_osd_datadisk-xml-4"><phrase><phrase/></phrase></para></para>


    <sidebar xml:id="idg-all-operations-maintenance-ceph-add_osd_datadisk-xml-6"><title>Adding a Data Disk to an Object Storage Daemon (OSD) Node</title><para>Prior to beginning these steps, ensure that there are no pre-existing partitions on the
        data disk that you will be adding.</para>
<orderedlist>
        <listitem><para>Log in to the lifecycle manager.</para>
</listitem>
        <listitem><para>Edit the <literal>~/helion/my_cloud/definition/data/disks_osd.yml</literal> file and enter
          the details for the new data disk. </para>
<para>Example:</para>
<screen>- name: ceph-osd-data-and-journal
  devices:
     - name: /dev/sdn
  consumer:
     name: ceph
     attrs:
     usage: data
     journal_disk: /dev/sdj</screen></listitem>
        <listitem><para>Commit the configuration changes to git:
          </para>
<screen>cd ~/helion/hos/ansible
git add -A
git commit -m "Adding new OSD data disk"</screen></listitem>
        <listitem><para>Run the configuration processor:
          </para>
<screen>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</screen></listitem>
        <listitem><para>Create the deployment directory:
          </para>
<screen>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost ready-deployment.yml</screen></listitem>
        <listitem><para>Redeploy Ceph with this playbook:
          </para>
<screen>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts ceph-deploy.yml</screen></listitem>
      </orderedlist></sidebar>
  </section>
