<?xml version="1.0"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE section [
 <!ENTITY % entities SYSTEM "entity-decl.ent"> %entities;
]>
<section xmlns="http://docbook.org/ns/docbook"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sec.ecp-prepare-target-hosts">
 <title>Prepare the Target Hosts</title>
  <informalfigure>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="ccp-ose-targets.png" width="75%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="ccp-ose-targets.png"/>
    </imageobject>
   </mediaobject>
  </informalfigure>
  <important>
   <para>
    Skip this step if you are bringing your own <xref linkend="term-def-ses"/>,
    <xref linkend="term-def-caasp"/>, and deployer environment (recommended).
   </para>
  </important>
  <para>
  Apply these commands if you are running on OpenStack and want to
  construct your environment from scratch.
</para>
<warning>
 <para>
  You must export the right environment variables for
  <filename>run.sh</filename> to work with the openstack deployment
  mechanism. Verify that they are set appropriately. See <xref
  linkend="ecp-configureopenstackdeploymentmechanism"/>.
 </para>
</warning>
<section xml:id="ecp-target-in-separate-steps">
  <title>In Separate Steps</title>
  <para>
    Create your SES node. The SES All-In-One (AIO) node has the following
    requirements:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     (v)CPU: 6
    </para>
   </listitem>
   <listitem>
    <para>
     Memory: 16GB
    </para>
   </listitem>
   <listitem>
    <para>
     Storage: 80GB
    </para>
   </listitem>
   <listitem>
    <para>
     When SES is deployed as AIO, two additional 60GB storage disks must be
     added to the node for OSD.
    </para>
   </listitem>
  </itemizedlist>
  <para>
   Configure SES-AIO:
  </para>
  <screen>./run.sh deploy_ses</screen>
  <para>
    Create the <xref linkend="term-def-caasp"/> cluster nodes in the cloud:
  </para>
  <screen>./run.sh deploy_caasp</screen>
  <para>
    Create the deployer node:
  </para>
  <screen>./run.sh deploy_ccp_deployer</screen>
  <para>
    Enroll all the <xref linkend="term-def-caasp"/> nodes into their roles
    (master, admin, and workers):
  </para>
  <screen>./run.sh enroll_caasp_workers</screen>
</section>
<section xml:id="ecp-target-in-a-single-step">
  <title>In a Single Step</title>
  <para>
    Alternatively, you can do all of the above in one step:
  </para>
  <screen>./run.sh setup_hosts</screen>
  <para>
   <emphasis role="bold">Do not run both separate steps and single step
   methods.</emphasis>
  </para>
</section>
</section>
