<?xml version="1.0"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE section [
 <!ENTITY % entities SYSTEM "entity-decl.ent"> %entities;
]>
<section xmlns="http://docbook.org/ns/docbook"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sec.ccp-caasp-trans-updates">
 <title>Disable CaaSP Transactional Updates</title>
<para>
  Although disabling CaaSP transactional updates is discouraged, there
  may be situations when it is inconvenient to have automatic CaaSP
  updates. For more information, visit the CaaSP documentation for
  <link xlink:href="https://www.suse.com/documentation/suse-caasp-3/book_caasp_admin/data/sec_admin_software_transactional-updates.html">transactional
  updates</link>.
</para>
<para>
  Run the following to prevent a cluster from being updated:
</para>
<screen>systemctl --now disable transactional-update.timer</screen>
<para>
  If you want to override once a week instead of daily, run the
  following:
</para>
<screen>mkdir /etc/systemd/system/transactional-update.timer.d
cat &lt;&lt; EOF &gt; /etc/systemd/system/transactional-update.timer.d/override.conf
[Timer]
OnCalendar=
OnCalendar=weekly
EOF
systemctl daemon-reload</screen>
<para>
  Or use the traditional <command>systemctl</command> commands:
</para>
<screen>systemctl edit transactional-update.timer
systemctl restart transactional-update.timer
systemctl status transactional-update.timer</screen>
<para>
  Check the next run:
</para>
<screen>systemctl list-timers</screen>
</section>
