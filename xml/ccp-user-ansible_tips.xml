<?xml version="1.0"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE section [
 <!ENTITY % entities SYSTEM "entity-decl.ent"> %entities;
]>
<section xmlns="http://docbook.org/ns/docbook"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sec.ansible-tips">
 <title>Ansible Tips</title>
<para>
  There are several variables for extra debugging from the Ansible
  playbooks as shown in the
  <link
    xlink:href="https://docs.ansible.com/ansible/latest/reference_appendices/config.html">Ansible documentation</link>.
</para>
<para>
  Some examples:
</para>
<screen>export ANSIBLE_VERBOSITY=3
export ANSIBLE_STDOUT_CALLBACK=debug</screen>
<para>
  Both of these environment variables will enable verbosity and debug
  for all the playbooks being run.
</para>
<para>
  You can enable the debugger for failed tasks as shown in the
  <link
    xlink:href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_debugger.html">Ansible
  playbook debugger user guide</link>.
</para>
<screen>export ANSIBLE_ENABLE_TASK_DEBUGGER=True</screen>
<para>
  This command launches the debugger when a task fails so you can examine the
  task, vars, and retry the task. Check the Ansible docs link for all
  available options.
</para>
<para>
  The debug task allows you to print to stdout while playbooks are executed
  without necessarily halting the playbook. Detailed information is available
  in the <link
  xlink:href="https://docs.ansible.com/ansible/latest/modules/debug_module.html">Ansible
  debug module documentation</link>.
</para>
<note>
 <para>
  These settings can be also set in your <filename>~/.ansible.cfg</filename>
  file.
 </para>
</note>
</section>
