<?xml version="1.0"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE chapter [
 <!ENTITY % entities SYSTEM "entities.ent"> %entities;
]>

<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="upgrade_overview">
 <title>&kw-hos-tm; 5.0: Introduction to the Upgrade Procedure</title>
 <section xml:id="reasons">
  <title>Reasons to Upgrade to &kw-hos-phrase;</title>
  <itemizedlist>
   <listitem>
    <para>
     OpenStack Newton Features:
     <!-- FIXME: <xref linkend="newton_features"/> -->
    </para>
   </listitem>
   <listitem>
    <para>
     New Features in &kw-hos-phrase; 5.0:
     <!-- FIXME: <xref linkend="newfeatures50"/> -->
    </para>
   </listitem>
   <listitem>
    <para>
     Fixes for issues that were present in previous releases:
     <!-- FIXME: <xref linkend="fixedissues50"/> -->
    </para>
   </listitem>
   <listitem>
    <para>
     Cumulative security patches that have been added in earlier releases.
    </para>
   </listitem>
  </itemizedlist>
 </section>
 <section xml:id="preparing">
  <title>Preparing for Upgrade</title>
  <itemizedlist>
   <listitem>
    <para>
     Read the <!-- FIXME: <xref linkend="releasenotes50"/> -->, especially
     the for the new version.s
    </para>
   </listitem>
   <listitem>
    <para>
     Ensure you have a Backup strategy in place - see
     <!-- FIXME: <xref keyref="bura_overview"/> -->
    </para>
   </listitem>
   <listitem>
    <para>
     Ensure you have a known starting state by resolving any unexpected alarms
     <!-- FIXME: <xref keyref="alarm_resolutions"/> -->.
    </para>
   </listitem>
   <listitem>
    <para>
     Determine if you will need to follow the procedure to reboot your cloud
     (<!-- FIXME: <xref keyref="upgradeto50/rebooting_general"> -->) after
     upgrading the software. In general, rebooting is only needed if the HPE
     Linux kernel has changed between versions. In the case of upgrade to
     &kw-hos-version;, the kernel has changed and so a reboot is required.
    </para>
   </listitem>
   <listitem>
    <para>
     Review the configuration changes for DNS in the document
     <!-- FIXME: <xref keyref="designate_cfg_dns_ns"/> -->.
    </para>
   </listitem>
   <listitem>
    <para>
     Review steps in <!-- FIXME: <xref linkend="add_network_node"/> --> and
     <!-- FIXME: <xref linkend="rebootNodes"/> -->, to minimize network
     traffic disruption affecting workloads. These steps are especially
     critical in cases where the Neutron services are not provided via
     external SDN controllers.
    </para>
   </listitem>
   <listitem>
    <para>
     Learn about delta upgrades (<!-- FIXME: <xref keyref="upgrade_deltas"> -->)
     and when you can use them.
    </para>
   </listitem>
   <listitem>
    <para>
     Perform any pre-upgrade tasks
     (<!-- FIXME: <xref keyref="upgrade_preupgrade_tasks"> -->) you deem
     necessary, such as:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       Handle Using RHEL as a Ceph Client:
       <!-- FIXME: <xref keyref="upgrade_preupgrade_tasks"> -->
      </para>
     </listitem>
    </itemizedlist>
   </listitem>
   <listitem>
    <para>
     Perform the upgrade:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       Upgrade your Cloud: <!-- FIXME: <xref keyref="upgradeto50"> -->
      </para>
     </listitem>
     <listitem>
      <para>
       Reboot your Cloud:
       <!-- FIXME: <xref keyref="upgradeto50/rebooting_general"/> -->
      </para>
     </listitem>
     <listitem>
      <para>
       Upgrade Tempest as Service:
       <!-- FIXME: <xref keyref="upgrade_tempest"/> -->
      </para>
     </listitem>
    </itemizedlist>
   </listitem>
   <listitem>
    <para>
     Handle any issues that may arise during upgrade:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       Resolve any Merge Conflicts
       <!-- FIXME: <xref keyref="upgrade_git_merge"> -->
      </para>
     </listitem>
     <listitem>
      <para>
       Recover RabbitMQ after Failure during Upgrade
       <!-- FIXME: <xref keyref="upgrade_recover_rabbit"> -->
      </para>
     </listitem>
     <listitem>
      <para>
       Handle Upgrade Failure while Creating or Removing Alarms
       <!-- FIXME: <xref keyref="upgrade_fail_alarms"> -->
      </para>
     </listitem>
    </itemizedlist>
   </listitem>
   <listitem>
    <para>
     Perform any post-upgrade tasks
     (<!-- FIXME: <xref keyref="upgrade_postupgrade_tasks"> -->)
     you deem necessary, such as:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       Installing OpenStack Clients after Upgrade
       <!-- FIXME: <xref keyref="upgrade_install_clients"> -->
      </para>
     </listitem>
     <listitem>
      <para>
       Update Neutron Configration Data
       <!-- FIXME: <xref keyref="neutron_configuration_data"> -->
      </para>
     </listitem>
     <listitem>
      <para>
       Enabling Barbican Support When Upgrading
       <!-- FIXME: <xref keyref="enable_barbican_for_upgrade"> -->
      </para>
     </listitem>
     <listitem>
      <para>
       Ironic Post-Upgrade Procedures
       <!-- FIXME: <xref keyref="upgrade_ironic"> -->
      </para>
     </listitem>
    </itemizedlist>
   </listitem>
  </itemizedlist>
 </section>
</chapter>
