<?xml version="1.0"?>
<!DOCTYPE section [
 <!ENTITY % entities SYSTEM "entity-decl.ent"> %entities;
]>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="private_data_metadata_ccp.yml" version="5.1">
 <title>private_data_metadata_ccp.yml</title>
 <para>
  This file provide details of the secrets that are generated by the
  configuration processor. The details include:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    The names of each secret
   </para>
  </listitem>
  <listitem>
   <para>
    Metadata about each secret. This is a list where each element contains
    details about each <literal>component</literal> service that uses the
    secret.
   </para>
   <itemizedlist>
    <listitem>
     <para>
      The <literal>component</literal> service that uses the secret, and if
      applicable the service that this component "consumes" when using the
      secret
     </para>
    </listitem>
    <listitem>
     <para>
      The list of clusters on which the <literal>component</literal> service is
      deployed
     </para>
    </listitem>
    <listitem>
     <para>
      The control plane <literal>cp</literal> on which the services are
      deployed
     </para>
    </listitem>
   </itemizedlist>
  </listitem>
  <listitem>
   <para>
    A version number (the model version number)
   </para>
  </listitem>
 </itemizedlist>
<screen>  <replaceable>SECRET</replaceable>
      <replaceable>METADATA</replaceable>
           <replaceable>LIST OF METADATA</replaceable>
               <replaceable>CLUSTERS</replaceable>
                   <replaceable>LIST OF CLUSTERS</replaceable>
               <replaceable>COMPONENT</replaceable>
               <replaceable>CONSUMES</replaceable>
               <replaceable>CONTROL-PLANE</replaceable>
       <replaceable>VERSION</replaceable></screen>
 <para>
  For example:
 </para>
<screen>
barbican_admin_password:
    metadata:
    -   clusters:
        - cluster1
        component: barbican-api
        cp: ccp
    version: '2.0'
keystone_swift_password:
    metadata:
    -   clusters:
        - cluster1
        component: swift-proxy
        consumes: keystone-api
        cp: ccp
    version: '2.0'
metadata_proxy_shared_secret:
    metadata:
    -   clusters:
        - cluster1
        component: nova-metadata
        cp: ccp
    -   clusters:
        - cluster1
        - compute
        component: neutron-metadata-agent
        cp: ccp
    version: '2.0'
    â€¦</screen>
</section>
