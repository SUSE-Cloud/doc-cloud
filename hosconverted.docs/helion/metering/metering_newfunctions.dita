<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >
<topic xml:lang="en-us" id="Metering_NewFunctions">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Metering Service New Functionality</title>
  
  <body>
    <p conkeyref="HOS-conrefs/applies-to"/>
   
    <section id="newfunct">
      <title>New Metering Functionality in <keyword keyref="kw-hos-phrase"/></title>
      <ul>
        <li>Ceilometer is now integrated with Monasca to use it as the datastore. Ceilometer API also now queries the Monasca datastore using the Monasca API (query) instead of the MySQL database</li>
        <li> The default meters and other items configured for the Ceilometer API can now be
          modified and additional meters can be added. It is highly recommended that customers test
          overall <keyword keyref="kw-hos"/> performance prior to deploying any Ceilometer
          modifications to ensure the addition of new notifications or polling events does not
          negatively affect overall system performance. </li>
        <li>Ceilometer Central Agent (pollster) is now called Polling Agent and is configured to support HA (Active-Active) </li>
        <li>Notification Agent has built-in HA (Active-Active) with support for pipeline
          transformers </li>
        <li>SWIFT Poll-based account level meters will be enabled by default with an hourly
          collection cycle.</li>
        <li>Integration with centralized monitoring (Monasca) and centralized logging </li>
        <li>Support for upgrade and reconfigure operations</li>
      </ul>
    </section>

    <section id="limitations">
      <title>Limitations</title>
      <ul>
        <li>The Ceilometer Post Meter API is disabled by default. </li>
        <li>The Ceilometer Events and Traits API is not supported and disabled by default.</li>
        <li>The Number of metadata attributes that can be extracted from resource_metadata has a maximum of 16. This is the number of fields in the metadata section of the <b>monasca_field_definitions.yaml</b> file for any service. It is also the number that is equal to fields in metadata.common and fields in metadata.&lt;service.meters&gt; sections. The total number of these fields cannot be more than 16.</li>
        <li>Several network-related attributes are accessible using a colon ":" but are returned as
          a period ".". For example, you can access a sample list using the following command:
          <codeblock>ceilometer --debug sample-list network -q "resource_id=421d50a5-156e-4cb9-b404-
d2ce5f32f18b;resource_metadata.provider.network_type=flat"</codeblock>
          However, in response you will see the following:
          <codeblock>provider.network_type</codeblock> instead of
            <codeblock>provider:network_type</codeblock><p>This limitation is known for the
            following
          attributes:</p><codeblock>provider:network_type
provider:physical_network
provider:segmentation_id</codeblock></li>
        <li>Ceilometer Expirer is unsupported. Data retention expiration is now handled by Monasca with a default retention period of 45 days.</li>
        <li>Ceilometer Collector is unsupported.</li>
        <li>The Ceilometer Alarms API is disabled by default. <keyword keyref="kw-hos-phrase"/>
          provides an alternative operations monitoring service that will provide support for
          operations monitoring, alerts, and notifications use cases. </li>
      </ul>
    </section>
  </body>
</topic>
