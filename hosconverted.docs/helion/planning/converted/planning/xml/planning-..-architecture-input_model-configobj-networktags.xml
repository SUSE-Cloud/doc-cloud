<?xml version="1.0"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [ <!ENTITY % entities SYSTEM "entities.xml"> %entities; ]><!--Edit status: not edited-->
<section id="configobj_networktags">
   <title>
      <phrase/>Network Tags</title>
        
        
        

    <para><phrase/> supports a small number of network tags which may be used to convey
        information between the input model and the service components (currently only Neutron uses
        network tags). A network tag consists minimally of a tag name; but some network tags have
        additional attributes.</para>

    <para><emphasis role="bold">neutron.networks.vxlan</emphasis></para>

    <informaltable id="neutron_networks_vxlan" colsep="1" rowsep="1">
         <tgroup cols="2">
                <colspec colname="c1" colnum="1"/>
                <colspec colname="c2" colnum="2"/>
                <thead>
                    <row>
                        <entry>Tag</entry>
                        <entry>Value Description</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>neutron.networks.vxlan</entry>
                        <entry>This tag causes Neutron to be configured to use VxLAN as the underlay for
                            tenant networks. The associated network group will carry the VxLAN
                            traffic.</entry>
                    </row>
                    <row>
                        <entry id="multiple_ranges_vxlan">tenant-vxlan-id-range (optional)</entry>
                        <entry>Used to specify the VxLAN identifier range in the format
                            “&lt;min-id&gt;:&lt;max-id&gt;”. The default range is “1001:65535”. Enclose the
                            range in quotation marks. Multiple ranges can be specified as a comma-separated list.
                        </entry>
                    </row>
                </tbody>
            </tgroup>
      </informaltable>

    <para>Example using the default ID range:
        </para>
<screen>
  tags:
    - neutron.networks.vxlan</screen>

    <para>Example using a user-defined ID range:
        </para>
<screen>
  tags:
    - neutron.networks.vxlan:
        tenant-vxlan-id-range: “1:20000”</screen>

        
    <para>Example using multiple user-defined ID range: 
        </para>
<screen>
  tags:
    - neutron.networks.vxlan:
        tenant-vxlan-id-range: “1:2000,3000:4000,5000:6000”
</screen>

        
          
        
    <para><emphasis role="bold">neutron.networks.vlan</emphasis></para>

    <informaltable id="neutron_networks_vlan" colsep="1" rowsep="1">
         <tgroup cols="2">
                <colspec colname="c1" colnum="1"/>
                <colspec colname="c2" colnum="2"/>
                <thead>
                    <row>
                        <entry>Tag</entry>
                        <entry>Value Description</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>neutron.networks.vlan</entry>
                        <entry>
                            <para>This tag causes Neutron to be configured for provider VLAN networks, and
                                optionally to use VLAN as the underlay for tenant networks. The associated
                                network group will carry the VLAN traffic. This tag can be specified on multiple
                                network groups.</para>
                            <para>NOTE: this tag does not cause any Neutron networks to be created, that must be
                                done in Neutron after the cloud is deployed.</para>
                  </entry>
                    </row>
                    <row>
                        <entry>provider-physical-network</entry>
                        <entry>The provider network name. This is the name to be used in the Neutron API for
                            the <emphasis>provider:physical_network</emphasis> parameter of network objects.</entry>
                    </row>
                    <row>
                        <entry id="multiple_ranges_vlan">tenant-vlan-id-range (optional)</entry>
                        <entry>This attribute causes Neutron to use VLAN for tenant networks; omit this
                            attribute if you are using provider VLANs only. It specifies the VLAN ID range for
                            tenant networks, in the format “&lt;min-id&gt;:&lt;max-id&gt;”. Enclose the range
                            in quotation marks.  Multiple ranges can be specified as a comma-separated list.</entry>
                    </row>
                </tbody>
            </tgroup>
      </informaltable>

    <para>Example using a provider vlan only (may be used with tenant VxLAN):
        </para>
<screen>
  tags:
    - neutron.networks.vlan:
        provider-physical-network: physnet1</screen>

        
    <para>Example using a tenant and provider VLAN:
        </para>
<screen>
  tags:
    - neutron.networks.vlan:
        provider-physical-network: physnet1
        tenant-vlan-id-range: “30:50,100:200”</screen>

        
        
    <para><emphasis role="bold">neutron.networks.flat</emphasis></para>

    <informaltable id="neutron_networks_flat" colsep="1" rowsep="1">
         <tgroup cols="2">
                <colspec colname="c1" colnum="1"/>
                <colspec colname="c2" colnum="2"/>
                <thead>
                    <row>
                        <entry>Tag</entry>
                        <entry>Value Description</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>neutron.networks.flat</entry>
                        <entry>
                            <para>This tag causes Neutron to be configured for provider flat networks. The
                                associated network group will carry the traffic. This tag can be specified on
                                multiple network groups.</para>
                            <para>NOTE: this tag does not cause any Neutron networks to be created, that must be
                                done in Neutron after the cloud is deployed.</para>
                        </entry>
                    </row>
                    <row>
                        <entry>provider-physical-network</entry>
                        <entry>The provider network name. This is the name to be used in the Neutron API for
                            the <emphasis>provider:physical_network</emphasis> parameter of network objects. When specified
                            on multiple network groups, the name must be unique for each network
                            group.</entry>
                    </row>
                </tbody>
            </tgroup>
      </informaltable>

    <para>Example using a provider flat network:
        </para>
<screen>
  tags:
    - neutron.networks.flat:
        provider-physical-network: flatnet1</screen>

    <para><emphasis role="bold">neutron.l3_agent.external_network_bridge</emphasis></para>

    <informaltable id="neutron_l3_agent" colsep="1" rowsep="1">
         <tgroup cols="2">
                <colspec colname="c1" colnum="1"/>
                <colspec colname="c2" colnum="2"/>
                <thead>
                    <row>
                        <entry>Tag</entry>
                        <entry>Value Description</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>neutron.l3_agent.external_network_bridge</entry>
                        <entry>
                            <para>This tag causes the Neutron L3 Agent to be configured to use the associated
                                network group as the Neutron external network for floating IP addresses. A CIDR
                                <emphasis role="bold">should not</emphasis> be defined for the associated physical network, as that will
                                cause addresses from that network to be configured in the hypervisor. When this
                                tag is used, provider networks cannot be used as external networks.</para>
                            <para>NOTE: this tag does not cause a Neutron external networks to be created, that
                                must be done in Neutron after the cloud is deployed.</para>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
      </informaltable>

    <para>Example using neutron.l3_agent.external_network_bridge:
        </para>
<screen>
  tags:
    - neutron.l3_agent.external_network_bridge</screen>

    </section>
