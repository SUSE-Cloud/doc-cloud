<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="min_part_hours">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Changing min-part-hours in Swift</title>
  <body><!--not tested-->
    <p conkeyref="HOS-conrefs/applies-to"/>
    <section id="about">
      <p>The <codeph>min-part-hours</codeph> parameter specifies the number of hours you must wait
        before Swift will allow a given partition to be moved. In other words, it constrains how
        often you perform ring rebalance operations. Before changing this value, you should get some
        experience with how long it takes your system to perform replication after you make ring
        changes (for example, when you add servers).</p>
      <p>See <xref href="safe_rebalance_deploy_ring.dita"/> for more information about determining
        when replication has completed.</p>
    </section>
    <section id="howto"><title>Changing the min-part-hours Value</title>
      <p>To change the <codeph>min-part-hours</codeph> value, following these steps:</p>
      <ol>
        <li>Log in to the lifecycle manager.</li>
        <li>Edit your <codeph>~/helion/my_cloud/definition/data/swift/rings.yml</codeph> file and
          change the value(s) of <codeph>min-part-hours</codeph> for the rings you desire. The value
          is expressed in hours and a value of zero is not allowed.</li>
        <li>Commit your configuration to the <xref href="../../installation/using_git.dita">local
            git repo</xref>, as follows:
          <codeblock>cd ~/helion/hos/ansible
git add -A
git commit -m "My config or other commit message"</codeblock></li>
        <li>Run the configuration processor:
          <codeblock>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</codeblock></li>
        <li>Update your deployment directory:
          <codeblock>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost ready-deployment.yml</codeblock></li>
        <li>Apply the changes by running this playbook:
          <codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts swift-deploy.yml</codeblock></li>
      </ol>
    </section>
  </body>
</topic>
