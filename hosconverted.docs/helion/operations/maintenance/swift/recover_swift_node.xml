<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="recover_swiftnode">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Recovering a Swift Node</title>
  <abstract><shortdesc outputclass="hdphidden">If one or more of your Swift Object or PAC nodes has
      experienced an issue, such as power loss or hardware failure, and you need to perform disaster
      recovery then we provide different scenarios and how to resolve them to get your cloud
      repaired.</shortdesc></abstract>
  <body>
    <section id="about"><p>Typical scenarios in which you will need to repair a Swift object or PAC
        node include:</p>
      <ul>
        <li>The node has either shut down or been rebooted.</li>
        <li>The entire node has failed and needs to be replaced.</li>
        <li>A disk drive has failed and must be replaced.</li>
      </ul>
      <p>These scenarios are covered in the sections below:</p>
      <ul>
        <li><xref href="#recover_swiftnode/down">What to do if your Swift host has shut down or
            rebooted</xref></li>
        <li><xref href="#recover_swiftnode/replace">How to replace your Swift node</xref></li>
        <li><xref href="#recover_swiftnode/disk_replacement">How to replace a hard disk in your
            Swift node</xref></li>
      </ul>
    </section>


    <section id="down"><title>What to do if your Swift host has shut down or rebooted</title>
      <p>If your Swift host has power but is not powered on, from the lifecycle manager you can run
        this playbook:</p>
      <ol>
        <li>Log in to the lifecycle manager.</li>
        <li>Obtain the name for your Swift host in Cobbler:
          <codeblock>sudo cobbler system list</codeblock></li>
        <li>Power the node back up with this playbook, specifying the node name from Cobbler:
          <codeblock>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost bm-power-up.yml -e nodelist=&lt;node name></codeblock></li>
      </ol>
      <p>Once the node is booted up, Swift should start automatically. You can verify this with this
        playbook:</p>
      <codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts swift-status.yml</codeblock>
      <p>Any alarms that have triggered due to the host going down should clear within 10 minutes.
        See <xref href="../../alarm_resolutions.dita"/> if further assistance is needed with the
        alarms.</p>
    </section>

    <section id="replace"><title>How to replace your Swift node</title>
      <p>If your Swift node has irreparable damage and you need to replace the entire node in your
        environment, see <xref href="replacing_swift_node.dita"/> for details on how to do this.</p>
    </section>

    <section id="disk_replacement"><title>How to replace a hard disk in your Swift node</title>
      <p>If you need to do a hard drive replacement in your Swift node, see <xref
          href="replacing_drives_swift_node.dita"/> for details on how to do this.</p>
    </section>

  </body>
</topic>
