<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="increase_timeout">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Increasing the Swift Node Timeout Value</title>
  <body><!--not tested-->
    <section id="about">
      <p>On a heavily loaded Object Storage system timeouts may occur when transferring data to or
        from Swift, particularly large objects.</p>
      <p>The following is an example of a timeout message in the log
          (<codeph>/var/log/swift/swift.log</codeph>) on a Swift proxy server:</p>
      <codeblock>Jan 21 16:55:08 helion-cp1-swpaco-m1-mgmt proxy-server: ERROR with Object server 10.243.66.202:6000/disk1 re: Trying to write to
/v1/AUTH_1234/testcontainer/largeobject: ChunkWriteTimeout (10s)</codeblock>
      <p>If this occurs, it may be necessary to increase the <codeph>node_timeout</codeph> parameter
        in the <codeph>proxy-server.conf</codeph> configuration file.</p>
    </section>
    <section id="steps"><title>Increasing the Swift Node Timeout Value</title>
      <p>The <codeph>node_timeout</codeph> parameter in the Swift <codeph>proxy-server.conf</codeph>
        file is the maximum amount of time the proxy server will wait for a response from the
        account, container, or object server. The default value is 10 seconds.</p>
      <p>In order to modify the timeout you can use these steps:</p>
      <ol>
        <li>Log in to the lifecycle manager.</li>
        <li>Edit the <codeph>~/helion/my_cloud/config/swift/proxy-server.conf.j2</codeph> file and
          add a line specifying the <codeph>node_timeout</codeph> into the
            <codeph>[app:proxy-server]</codeph> section of the file. <p>Example, in bold, increasing
            the timeout to 30 seconds:</p>
          <codeblock>[app:proxy-server]
use = egg:swift#proxy
.
.
<b>node_timeout = 30</b></codeblock></li>
        <li>Commit your configuration to the <xref href="../../../installation/using_git.dita">local
            git repo</xref>, as follows:
          <codeblock>cd ~/helion/hos/ansible
git add -A
git commit -m "My config or other commit message"</codeblock></li>
        <li>Run the configuration processor:
          <codeblock>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</codeblock></li>
        <li>Use the playbook below to create a deployment directory:
          <codeblock>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost ready-deployment.yml</codeblock></li>
        <li>Change to the deployment directory and run the Swift reconfigure playbook:
          <codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts swift-reconfigure.yml</codeblock></li>
      </ol>
    </section>
  </body>
</topic>
