<?xml version="1.0"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [ <!ENTITY % entities SYSTEM "entities.xml"> %entities; ]><!--Edit status: not edited-->
<section id="recover_swiftnode">
   <title>
      <phrase/>Recovering a Swift Node</title>
    <para>Typical scenarios in which you will need to repair a Swift object or PAC
        node include:</para>
   <itemizedlist>
        <listitem>
         <para>The node has either shut down or been rebooted.</para>
      </listitem>
        <listitem>
         <para>The entire node has failed and needs to be replaced.</para>
      </listitem>
        <listitem>
         <para>A disk drive has failed and must be replaced.</para>
      </listitem>
      </itemizedlist>
   <para>These scenarios are covered in the sections below:</para>
   <itemizedlist>
        <listitem>
         <para>
            <ulink url="#recover_swiftnode/down">What to do if your Swift host has shut down or
            rebooted</ulink>
         </para>
      </listitem>
        <listitem>
         <para>
            <ulink url="#recover_swiftnode/replace">How to replace your Swift node</ulink>
         </para>
      </listitem>
        <listitem>
         <para>
            <ulink url="#recover_swiftnode/disk_replacement">How to replace a hard disk in your
            Swift node</ulink>
         </para>
      </listitem>
      </itemizedlist>


    
      <bridgehead renderas="sect4">What to do if your Swift host has shut down or rebooted</bridgehead>
      <para>If your Swift host has power but is not powered on, from the lifecycle manager you can run
        this playbook:</para>
      <orderedlist>
        <listitem>
            <para>Log in to the lifecycle manager.</para>
         </listitem>
        <listitem>
            <para>Obtain the name for your Swift host in Cobbler:
          </para>
            <screen>sudo cobbler system list</screen>
         </listitem>
        <listitem>
            <para>Power the node back up with this playbook, specifying the node name from Cobbler:
          </para>
            <screen>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost bm-power-up.yml -e nodelist=&lt;node name&gt;</screen>
         </listitem>
      </orderedlist>
      <para>Once the node is booted up, Swift should start automatically. You can verify this with this
        playbook:</para>
      <screen>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts swift-status.yml</screen>
      <para>Any alarms that have triggered due to the host going down should clear within 10 minutes.
        See <xref linkend="alarmdefinitions"/> if further assistance is needed with the
        alarms.</para>
   

    
      <bridgehead renderas="sect4">How to replace your Swift node</bridgehead>
      <para>If your Swift node has irreparable damage and you need to replace the entire node in your
        environment, see <xref linkend="replace_swift_node"/> for details on how to do this.</para>
   

    
      <bridgehead renderas="sect4">How to replace a hard disk in your Swift node</bridgehead>
      <para>If you need to do a hard drive replacement in your Swift node, see <xref linkend="replacing_disks"/> for details on how to do this.</para>
   

  </section>
