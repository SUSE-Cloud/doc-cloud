<?xml version="1.0"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [ <!ENTITY % entities SYSTEM "entities.xml"> %entities; ]><!--Edit status: ready for edit (Nancy)-->
<section id="VSC-on-VCP">
   <title>
      <phrase/>Input Model Changes for VSC Setup on Virtual
    Control Plane</title>
    <itemizedlist>
        <listitem>
         <para>Deploying the VSC via the VM Disk Image</para>
      </listitem>
        <listitem>
         <para>Deploying the VSC via the playbooks
          </para>
         <itemizedlist>
            <listitem>
               <para>Defining the Server-Role for VM hosts</para>
            </listitem>
            <listitem>
               <para>Add the definition for the HLM_HYPERVISOR_INTERFACES Network Group</para>
            </listitem>
            <listitem>
               <para>Add the VM Host to the Cloud</para>
            </listitem>
            <listitem>
               <para>New Service Definition for the DCN-VSC Service</para>
            </listitem>
            <listitem>
               <para>Control Plane Changes needed to Deploy DCN-VSC on VM Hosts</para>
            </listitem>
            <listitem>
               <para>Network Groups: Associate the data network to "HLM" network, MANAGEMENT to the
              "MANAGEMENT" network</para>
            </listitem>
            <listitem>
               <para>DCN Configuration Data Additions</para>
            </listitem>
            <listitem>
               <para>Setup of the VM-Host and Deployment of services on Controller VMs</para>
            </listitem>
          </itemizedlist>
      </listitem>
        <listitem>
         <para>Additional Third-Party import needed for VSC deployment</para>
      </listitem>
      </itemizedlist>
    
    
      <bridgehead renderas="sect4">Deploying the VSC via the VM Disk Image</bridgehead>
      <para>
       
      The VSC is delivered as a VM definition along
      with the VM disk image. The image already has all the necessary software components in it.
      Furthermore, it is a VXworks based system. To deploy it requires the VM definition xml file be
      customized for the VM host, And then the boot files in the VSC disk image have to be updated
      on the disk image before the VSC VM can be booted up. So the steps to create a disk image,
      installing Hlinux on the VM disk is not needed. The steps taken to deploy the VSC VM is </para>
      <orderedlist>
        <listitem>
            <para>Find a machine to host the VSC VM. If the VSC-VM is going to be running on a node that
          will host other virtual controllers, use the hlm-hypervisor role to bring up the VM Host.
          The plays in the role will be setting up the bridges needed by the VSC. JM: you don't need
          a specific hlm-hypervisor role, you just need to specify passthrough-network-groups in the
          interface model of the servers that will host the VSC VMs. The osconfig network_interface
          role will create the bridges needed by the VSC. </para>
         </listitem>
        <listitem>
            <para>When (1) is done, use site.yml to bring up and customize the VSC VM on the VM host: </para>
            <orderedlist>
               <listitem>
                  <para>Defining the virsh networks needed by the VSC and bring up the virsh networks </para>
               </listitem>
               <listitem>
                  <para>Customize the VSC boot file </para>
               </listitem>
               <listitem>
                  <para>Boot up the VSC </para>
               </listitem>
               <listitem>
                  <para>Additional configuration steps for the VSC by remotely executing a configuration
              script. </para>
               </listitem>
            </orderedlist>
         </listitem>
      </orderedlist>
   
    
    
    <formalpara id="deploy_vsc_playbook">
      <title>Deploying the VSC via the playbooks</title>
      <para/>
   </formalpara>
    <para id="idg-operations----networking-VSC_setup_input_model_changes-dita-4">
      
      
    </para>
    <formalpara id="changes">
      <title>Changes needed</title>
      <para/>
   </formalpara>
    <formalpara id="defining_roles">
      <title>Defining the server-role for VM hosts</title>
      <para/>
   </formalpara>
    
    <formalpara id="add_definition">
      <title>Adding the Definition</title>
      <para/>
   </formalpara>
    
    <formalpara id="add_VM_host">
      <title>Adding the VM host to the cloud</title>
      <para/>
   </formalpara>
    <formalpara id="new_service_def">
      <title>New service definition for the DCN-VSC service</title>
      <para/>
   </formalpara>
    <formalpara id="control_place_changes">
      <title>Control plane changes needed to seploy DCN-VSC on VM
        hosts</title>
      <para/>
   </formalpara>
    <formalpara id="network_groups">
      <title>Network groups: Associating the data network to the HLM network,
        MANAGEMENT to the MANAGEMENT network</title>
      <para/>
   </formalpara>
    
    <formalpara id="dcn_cnfig">
      <title>DCN Configuration Data Additions</title>
      <para/>
   </formalpara>
    <formalpara id="setup_vm">
      <title>Setup of the VM-Host and deployment of
        services on controller VMs</title>
      <para/>
   </formalpara>
    
    <formalpara id="additional_third_party">
      <title>Additional third-party import needed for VSC deployment</title>
      <para/>
   </formalpara>
  </section>
