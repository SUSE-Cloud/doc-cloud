<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="hipchat_plugin">
    <title>Configuring the HipChat Plugin</title>
    <body>
        <p>To configure the HipChat plugin you will need the following four pieces of information
            from your HipChat system.<ul id="ul_v5n_xw4_4x">
                <li>The URL of your HipChat system.</li>
                <li>A token providing permission to send notifications to your HipChat system.</li>
                <li>The ID of the HipChat room you wish to send notifications to.</li>
                <li>A HipChat user account. This account will be used to authenticate any incoming
                    notifications from your <keyword keyref="kw-hos-phrase"/> cloud.</li>
            </ul></p>
        <p><b>Obtain a token</b></p>
        <p>Use the following instructions to obtain a token from your Hipchat system.<ol
                id="ol_tmk_kx4_4x">
                <li>Log in to HipChat as the user account that will be used to authenticate the
                    notifications.</li>
                <li>Navigate to the following URL:
                        <codeph>https://&lt;your_hipchat_system>/account/api</codeph>. Replace
                        <codeph>&lt;your_hipchat_system></codeph> with the
                    fully-qualified-domain-name of your HipChat system.</li>
                <li>Select the <b>Create token</b> option. Ensure that the token has the
                    "SendNotification" attribute.</li>
            </ol></p>
        <p/>
        <p><b>Obtain a room ID</b></p>
        <p>Use the following instructions to obtain the ID of a HipChat room.<ol id="ol_xhl_ngp_4x">
                <li>Log in to HipChat as the user account that will be used to authenticate the
                    notifications.</li>
                <li>Select <b>My account</b> from the application menu.</li>
                <li>Select the <b>Rooms</b> tab.</li>
                <li>Select the room that you want your notifications sent to.</li>
                <li>Look for the API ID field in the room information. This is the room ID.</li>
            </ol></p>
        <p/>
        <p><b>Create HipChat notification type</b></p>
        <p>Use the following instructions to create a HipChat notification type.<ol
                id="ol_lvp_h3p_4x">
                <li>Begin by obtaining the API URL for the HipChat room that you wish to send
                    notifications to. The format for a URL used to send notifications to a room is
                    as follows:<p><codeph>/v2/room/{room_id_or_name}/notification</codeph></p></li>
                <li>Use the Monasca API to create a new notification method. The following example
                    demonstrates how to create a HipChat notification type named
                        <b>MyHipChatNotification</b>, for room <b>ID 13</b>, using an example API
                    URL and auth
                        token.<codeblock> monasca notification-create  MyHipChatNotification HIPCHAT https://hipchat.hpe.net/v2/room/13/notification?auth_token=1234567890 </codeblock><p>The
                        preceding example creates a notification type with the following
                            characteristics<ul id="ul_ujk_44p_4x">
                            <li>Name: MyHipChatNotification</li>
                            <li>Type: HIPCHAT</li>
                            <li>API URL: https://hipchat.hpe.net/v2/room/13/notification</li>
                            <li>Auth_token: 1234567890</li>
                        </ul></p></li>
            </ol></p>
        <p/>
        <p>
            <note>The Horizon dashboard can also be used to create a HipChat notification
                type.</note>
        </p>
    </body>
</topic>
