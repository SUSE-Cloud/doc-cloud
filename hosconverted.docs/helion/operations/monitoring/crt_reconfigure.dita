<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="crt_reconfigure">
  <title>Reconfigure</title>
  <body>
    <section id="reconfigure">
      <p>The reconfigure process can be triggered again from the deployer.  
        Presuming that changes have been made to the variables in the 
        appropriate places execution of the respective ansible scripts 
        will be enough to update the configuration.  The spark reconfigure 
        process alters the nodes serially meaning that spark is never down 
        altogether, each node is stopped in turn and zookeeper manages the 
        leaders accordingly.  This means that monasca-transform may be left 
        running even while spark is upgraded.
        <codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts spark-reconfigure.yml
ansible-playbook -i hosts/verb_hosts monasca-transform-reconfigure.yml</codeblock>       
      </p>
    </section>
  </body>
</topic>
