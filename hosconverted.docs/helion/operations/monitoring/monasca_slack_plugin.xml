<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="monasca_slack_plugin">
    <title>Configuring the Slack Plugin</title>
    <body>
        <p>Configuring a Slack notification type requires four pieces of information from your Slack
                system.<ul id="ul_bwq_2rp_4x">
                <li>Slack server URL</li>
                <li>Authentication token</li>
                <li>Slack channel</li>
                <li>A Slack user account. This account will be used to authenticate incoming
                    notifications to Slack.</li>
            </ul></p>
        <p><b>Identify a Slack channel</b><ol id="ol_uf2_rrp_4x">
                <li>Log in to your Slack system as the user account that will be used to
                    authenticate the notifications to Slack.</li>
                <li>In the left navigation panel, under the <b>CHANNELS</b> section locate the
                    channel that you wish to receive the notifications. The instructions that follow
                    will use the example channel <b>#general</b>.</li>
            </ol></p>
        <p><b>Create a Slack token</b><ol id="ol_zbt_hsp_4x">
                <li>Log in to your Slack system as the user account that will be used to
                    authenticate the notifications to Slack</li>
                <li>Navigate to the following URL: <xref
                        href="https://api.slack.com/docs/oauth-test-tokens" format="html"
                         /></li>
                <li>Select the <b>Create token</b> button.</li>
            </ol></p>
        <p><b>Create a Slack notification type</b><ol id="ol_b1k_mtp_4x">
                <li>Begin by identifying the structure of the API call to be used by your
                    notification method. The format for a call to the Slack Web API is as
                            follows:<p><codeph>https://slack.com/api/METHOD</codeph></p><p>You can
                        authenticate a Web API request by using the token that you created in the
                        previous <b>Create a Slack Token</b>section. Doing so will result in an API
                        call that looks like the
                            following.</p><p><codeph>https://slack.com/api/METHOD?token=auth_token</codeph></p><p>You
                        can further refine your call by specifying the channel that the message will
                        be posted to. Doing so will result in an API call that looks like the
                        following.</p>
                    <codeph>https://slack.com/api/METHOD?token=auth_token&amp;channel=#channel</codeph><p/><p>The
                        following example uses the <codeph>chat.postMessage</codeph> method, the
                        token <codeph>1234567890</codeph>, and the channel
                        <codeph>#general</codeph>.<codeblock>https://slack.com/api/chat.postMessage?token=1234567890&amp;channel=#general</codeblock></p><p>Find
                        more information on the Slack Web API here: <xref
                            href="https://api.slack.com/web" format="html"  
                    /></p></li>
                <li>Use the CLI on your lifecycle manager to create a new Slack notification type,
                    using the API call that you created in the preceding step. The following example
                    creates a notification type named <b>MySlackNotification</b>, using token
                        <b>1234567890</b>, and posting to channel
                    <b>#general</b>.<codeblock>monasca notification-create  MySlackNotification SLACK https://slack.com/api/chat.postMessage?token=1234567890&amp;channel=#general</codeblock></li>
            </ol></p>
        <note>Notification types can also be created in the Horizon dashboard.</note>
    </body>
</topic>
