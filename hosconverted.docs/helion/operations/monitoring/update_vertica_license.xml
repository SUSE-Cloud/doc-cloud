<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic xml:lang="en-us" id="update_vertica_license">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Updating the Vertica License Key</title>
  <abstract><shortdesc outputclass="hdphidden">Steps to update your cloud environment to use your
      own Vertica license to replace the default one offered.</shortdesc></abstract>
  <body>
    <section>
      <p>A Vertica license is included in <keyword keyref="kw-hos"/> for you to use. If you have
        your own license and wish to update your cloud environment to use your own license, these
        steps will show you how to.</p>
    </section>
    <section>
      <title>Updating the Vertica license key</title>
      <p>Use the following steps to update the Vertica license key in your environment.</p>
      <ol>
        <li>Obtain your Vertica license file from Vertica.</li>
        <li>Locate the first node of the Vertica
            cluster:<codeblock>cd ~/scratch/ansible/next/hos/ansible
grep -A1 FND-VDB--first-member hosts/verb_hosts</codeblock><p>Example
            output:<codeblock>$ grep -A1 FND-VDB--first-member hosts/verb_hosts
[FND-VDB--first-member:children]
helion-cp1-c1-m1</codeblock></p></li>
        <li>SSH to the first node of the Vertica cluster and copy the Vertica license file to that
          node.</li>
        <li>Ensure that the license file is readable by the <codeph>dbadmin</codeph>
          user:<codeblock>chown dbadmin:verticadba <i>&lt;location_of_license_file></i></codeblock></li>
        <li>SSH to the lifecycle manager and run the following
            playbook:<codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts monasca-vertica-change-license.yml -e "vertica_license_location=<i>&lt;location_of_license_file></i>"</codeblock><note>The
            value of <i>&lt;location_of_license_file></i> must be the full path.</note></li>
      </ol>
    </section>
  </body>
</topic>
