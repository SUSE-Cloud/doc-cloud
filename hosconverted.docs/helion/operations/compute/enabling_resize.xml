<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="enabling_the_nova_resize">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Enabling the Nova Resize and Migrate
    Features</title>
  <abstract><shortdesc outputclass="hdphidden">The Nova resize and migrate features are disabled by
      default. If you wish to utilize these options, these steps will show you how to enable it in
      your cloud.</shortdesc></abstract>
  <body>
    <section>
      <p>The two features below are disabled by default:</p>
      <ul>
        <li><b>Resize</b> - this feature allows you to change the size of a Compute instance by
          changing its flavor. See the <xref
            href="http://docs.openstack.org/user-guide/cli_change_the_size_of_your_server.html"
            format="html" scope="external">OpenStack User Guide</xref> for more details on its
          use.</li>
        <li><b>Migrate</b> - read about the differences between "live" migration (enabled, by
          default) and regular migration (disabled, by default) at <xref
            href="../maintenance/live_migration.dita"/>.</li>
      </ul>
      <p>These two features are disabled by default because they require passwordless SSH access
        between Compute hosts with the user having access to the file systems to perform the
        copy.</p>
    </section>
    <section id="enable"><title>Enabling Nova Resize and Migrate</title>
      <p>If you wish to enable these features, use these steps on your lifecycle manager. This will
        deploy a set of public and private SSH keys to the Compute hosts, allowing the
          <codeph>nova</codeph> user SSH access between each of your Compute hosts.</p>
      <ol>
        <li>Log in to the lifecycle manager.</li>
        <li>Run the Nova reconfigure playbook:
          <codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts nova-reconfigure.yml --extra-vars nova_migrate_enabled=true</codeblock></li>
        <li>To ensure that the resize and migration options show up in the Horizon dashboard, run
          the Horizon reconfigure
          playbook:<codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts horizon-reconfigure.yml</codeblock></li>
      </ol>
    </section>
    <section id="disable"><title>Disabling Nova Resize and Migrate</title>
      <p>This feature is disabled by default. However, if you have previously enabled it and wish to
        re-disable it, you can use these steps on your lifecycle manager. This will remove the set
        of public and private SSH keys that were previously added to the Compute hosts, removing the
          <codeph>nova</codeph> users SSH access between each of your Compute hosts.</p>
      <ol>
        <li>Log in to the lifecycle manager.</li>
        <li>Run the Nova reconfigure playbook:
          <codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts nova-reconfigure.yml --extra-vars nova_migrate_enabled=false</codeblock></li>
        <li>To ensure that the resize and migrate options are removed from the Horizon dashboard,
          run the Horizon reconfigure
          playbook:<codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts horizon-reconfigure.yml</codeblock></li>
      </ol>
    </section>
  </body>
</topic>
