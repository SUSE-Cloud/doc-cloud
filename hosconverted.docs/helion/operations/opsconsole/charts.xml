<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited--> 
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="charts">
    <title><ph conkeyref="HOS-conrefs/product-title"/>Visualizing Data in Charts</title>
    <shortdesc>Operations Console allows you to create a new chart and select the time range and the metric you want to chart, based on Monasca metrics.</shortdesc>
    <body>
        <p>Present data in a pictorial or graphical format to enable administrators and decision
            makers to grasp difficult concepts or identify new patterns.</p>
        <p><b>Create new time-series graphs from My Dashboard.</b></p>
        <p>My Dashboard also allows you to customize the view in the following ways:</p>
        <ul>
            <li>Include alarm cards from the Central Dashboard </li>
            <li>Customize graphs in new ways</li>
            <li>Reorder items using drag and drop</li>
        </ul>
        <p><b>Plan for future storage</b></p>
        <ul>
            <li>Track capacity over time to predict with some degree of reliability the amount of
                additional storage needed.</li>
        </ul>
        <p>Charts and graphs provide a quick way to visualize large amounts of complex data. It is
            especially useful when trying to find relationships and understand your data, which
            could include thousands or even millions of variables. You can create a new chart in
            Operations Console from <b>My Dashboard</b>.</p>
        
        <p>The charts in Operations Console are based on Monasca data. When you create a new chart
            you will be able to select the time range and the metric you want to chart. The list of
            Metrics you can choose from is equivalent to using the <b>monasca metric-name-list</b>
            on the command line. After you select a metric, you can then specify a dimension, which
            is derived from the <b>monasca metric-list –name &lt;metric_name&gt;</b> command line
            results. The dimension list changes based on the selected metric. </p>
        <p>This topic provides instructions on how to create a basic chart, and how to create a chart specifically to visualize your Cinder capacity.
            <ul>
                <li><xref type="section" href="#charts/ops_create_charts">Create a Chart</xref></li>
                <li><xref type="section" href="#charts/ops_Cinder_chart">Chart Cinder Capacity</xref></li></ul></p>
        
        <section id="ops_create_charts">
            <title>Create a Chart</title>
            <p>Create a chart to visually display data for up to 6 metrics over a period of time.</p>
            <p>To create a chart:</p>
            <ol>
                <li>To open Operations Console, in a browser enter either the URL or Virtual IP
                    connected to Ops Console. <p>For
                        example:</p><codeblock>https://myhelion.test:9095
https://VIP:9095</codeblock></li>
                <li>On the <b>Home</b> screen, click the menu represented by 3 horizontal lines.
                    <image href="../../../media/opsconsole/OpsConsoleBurgerMenu.png"/></li>
                <li>From the menu that slides in on the left, select <b>Home</b>, and then select
                        <b>My Dashboard</b>.</li>
                <li>On the <b>My Dashboard</b> screen, select <b>Create New Chart</b>.</li>
                <li>On the <b>Add New Time Series Chart</b> screen, in <b>Chart Definition</b>
                    complete any of the optional fields: <dl>
                        <dlentry>
                            <dt>Name</dt>
                            <dd>Short description of chart.</dd>
                        </dlentry>
                        <dlentry>
                            <dt>Time Range</dt>
                            <dd>Specifies the interval between metric collection. The default is
                                    <b>1 hour</b>. Can be set to hours (1,2,4,8,24) or days
                                (7,30,45).</dd>
                        </dlentry>
                        <dlentry>
                            <dt>Chart Update Rate</dt>
                            <dd>Collects metric data and adds it to the chart at the specified
                                interval. The default is <b>1 minute</b>. Can be set to minutes
                                (1,5,10,30) or 1 hour.</dd>
                        </dlentry>
                        <dlentry>
                            <dt>Chart Type</dt>
                            <dd>Determines how the data is displayed. The default type is
                                    <b>Line</b>. Can be set to the following values: <ul>
                                    <li><image href="../../../media/opsconsole/LineChartIcon.png"/>
                                        Line</li>
                                    <li><image href="../../../media/opsconsole/BarChartIcon.png"/>
                                        Bar</li>
                                    <li><image href="../../../media/opsconsole/StackedBarIcon.png"
                                        />Stacked Bar</li>
                                    <li><image href="../../../media/opsconsole/AreaIcon.png"
                                        />Area</li>
                                    <li><image href="../../../media/opsconsole/AreaStackedIcon.png"
                                        />Stacked Area </li>
                                </ul></dd>
                        </dlentry>
                        <dlentry>
                            <dt>Chart Size</dt>
                            <dd>This controls the visual display of the chart width as it appears on
                                    <b>My Dashboard</b>. The default is <b>Small</b>. This field can
                                be set to <b>Small</b> to display it at 50% or <b>Large</b> for
                                100%.</dd>
                        </dlentry>
                    </dl><note type="note">None of these fields require that you change the
                        defaults. Only the <b>Metric</b> and <b>Function</b> fields in the <b>Chart
                            Data</b> section are required. It is recommended that you at least
                        create a name to identify the chart.</note></li>
                <li>On the <b>Add New Time Series Chart</b> screen, in <b>Added Chart Data</b>
                    complete the following fields: <dl>
                        <dlentry>
                            <dt>Metric</dt>
                            <dd>In Monasca, a metric is a multi-dimensional description that
                                consists of the following fields: name, dimensions, timestamp, value
                                and value_meta. The pre-populated list is equivalent to using the
                                    <b>monasca metric-name-list</b> on the command line.</dd>
                        </dlentry>
                        <dlentry>
                            <dt>Dimension</dt>
                            <dd> The set of unique dimensions that are defined for a specific
                                metric. Dimensions are a dictionary of key-value pairs. This
                                pre-populated list is equivalent to using the <b>monasca metric-list
                                    –name &lt;metric_name&gt;</b> on the command line.</dd>
                        </dlentry>
                        <dlentry>
                            <dt>Function</dt>
                            <dd>Operations Console uses Monasca to provide the results of all
                                mathematical functions. Monasca in turns uses Graphite to perform
                                the mathematical calculations and return the results. The default is
                                    <b>AVG</b>. The <b>Function</b> field can be set to <b>AVG</b>
                                (default), <b>MIN</b>, <b>MAX</b>. and <b>COUNT</b>. For more
                                information on these functions, see the <xref
                                    href="http://www.aosabook.org/en/graphite.html"  
                                    format="html">Graphite</xref> documentation.</dd>
                        </dlentry>
                    </dl><note type="note">Only the <b>Metric</b> and <b>Function</b> fields are
                        required. You will not be able to click <b>Add Data to Chart</b> until these
                        options are selected.</note>
                </li>
                <li>Click <b>Add Data To Chart</b>. To add another metric to the chart, repeat the previous step until all metrics are added. The maximum you can have in one chart is 6 metrics. </li>
          <li>To create the chart, click <b>Create New Chart</b>.</li>
            </ol>
            
            <p>After you click <b>Create New Chart</b>, you will be returned to My Dashboard where
                the new chart will be shown. From the My Dashboard screen you can use the menu in
                the top-right corner of the card to delete or edit the chart. You can also select an
                option to create a comma-delimited file of the data in the chart.</p>
        </section>
        <lines></lines>
        <section id="ops_Cinder_chart">
            <title>Chart Cinder Capacity</title>
            <p>To visualize the use of storage capacity over time, you can create a chart that graphs the total block storage backend capacity. To find out how much of that total is being used, you can also create a chart that graphs the available block storage capacity.</p>
            <p><b>Visualizing Cinder:</b></p>
            <ul>
                <li><xref type="section" href="#charts/ops_Cinder_chart_total">Chart Total Capacity</xref></li>
                <li><xref type="section" href="#charts/ops_Cinder_chart_avail">Chart Available Capacity</xref></li>
            </ul>
            <note type="important">The total and free capacity values are based on the available capacity reported by the Cinder backend. Be aware that some backends can be configured to thinly provision.</note>
        </section>
        <section id="ops_Cinder_chart_total"><title>Chart Total Capacity</title> To chart the total
            block-storage backend capacity:<ol>
                <li>Log in to Operations Console.</li>
                <li>Follow the steps in the previous instructions to start creating a chart.</li>
                <li>To chart the total backend capacity, on the <b>Add New Time Series Chart</b>
                    screen, in <b>Chart Definition</b> use the following settings: <table
                        frame="all" rowsep="1" colsep="1" id="table_ckx_Cinder_opscon">
                        <tgroup cols="2">
                            <colspec colname="c1" colnum="1" colwidth="1*"/>
                            <colspec colname="c2" colnum="2" colwidth="19*"/>
                            <thead>
                                <row>
                                    <entry>Field</entry>
                                    <entry>Setting</entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>Metrics</entry>
                                    <entry>cinderlm.cinder.backend.total.size</entry>
                                </row>
                                <row>
                                    <entry>Dimension</entry>
                                    <entry>any hostname. If multiple backends are available, select
                                        any one. The backends will all return the same metric
                                        data.</entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </table></li>
                <li>Add the data to the chart and click <b>Create</b>.</li>
            </ol><p>Example of a Cinder Total Capacity Chart:</p>
            <image href="../../../media/opscon_chart_cinder_totalcap.png"/>
        </section>
        
        <section id="ops_Cinder_chart_avail">
            <title>Chart Available Capacity</title><p>To chart the available block-storage backend
                capacity:</p><ol>
                <li>Log in to Operations Console.</li>
                <li>Follow the steps in the previous instructions to start creating a chart.</li>
                <li>To chart the available backend capacity, on the <b>Add New Time Series Chart</b>
                    screen, in <b>Chart Definition</b> use the following settings: <table
                        frame="all" rowsep="1" colsep="1" id="table_ckx_Cinder2_opscon">
                        <tgroup cols="2">
                            <colspec colname="c1" colnum="1" colwidth="1*"/>
                            <colspec colname="c2" colnum="2" colwidth="19*"/>
                            <thead>
                                <row>
                                    <entry>Field</entry>
                                    <entry>Setting</entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>Metrics</entry>
                                    <entry>cinderlm.cinder.backend.total.avail</entry>
                                </row>
                                <row>
                                    <entry>Dimension</entry>
                                    <entry>any hostname. If multiple backends are available, select
                                        any one. The backends will all return the same metric
                                        data.</entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </table></li>
                <li>Add the data to the chart and click <b>Create</b>.</li>
            </ol><p>Example of a chart showing Cinder Available Capacity:</p>
            <image href="../../../media/opscon_chart_cinder_totalavail.png"/>
            <note type="important">The source data for the Capacity Summary pages is only refreshed at the top of each hour. 
                This affects the latency of the displayed data on those pages.</note>
        </section>
     
    </body>  
</topic>
