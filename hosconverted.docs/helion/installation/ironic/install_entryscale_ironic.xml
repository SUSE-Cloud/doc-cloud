<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="install_ironic">
    <title><ph conkeyref="HOS-conrefs/product-title"/>Installation for HPE Helion Entry-scale Cloud
        with Ironic Flat Network</title>
    <body>
        <p conkeyref="HOS-conrefs/applies-to"/>    
        <section id="about">
            <p>This page describes the installation step requirements for the HPE Helion Entry-scale Cloud with
                Ironic Flat Network.</p>
        </section>
        
        <!--<section conkeyref="install_entryscale_kvm/important_notes"/>-->
        <!-- need to remove a list item for ironic -->
        <section id="important_notes"><title>Important Notes</title>
            <ul>
                <li conkeyref="install_entryscale_kvm/notes-gui" conrefend="null#null/notes-release"/>
                <li conkeyref="install_entryscale_kvm/notes-trouble" conrefend="null#null/notes-ansible"/>
            </ul>
            
        </section>
                

        
        
        <section conkeyref="install_entryscale_kvm/prereqs"/>
        <section conkeyref="install_entryscale_kvm/setup_deployer"/>
        <section id="configuration">
            <title>Configure Your Environment</title>
            <p>Prior to deploying an operational environment with Ironic, operators need to be aware
                of the nature of TLS certificate authentication. As pre-built deployment agent
                ramdisks images are supplied, these ramdisk images will only authenticate known
                third-party TLS Certificate Authorities in the interest of end-to-end security. As
                such, uses of self-signed certificates and private certificate authorities will be
                unable to leverage ironic without modifying the supplied ramdisk images.</p>
            <ol>
                <li>Setup your configuration files, as follows: 
                    <ol>
                        <li>See the sample sets of configuration files in the
                        <codeph>~/helion/examples/</codeph> directory. Each set will have an accompanying
                        README.md file that explains the contents of each of the configuration files.</li>
                        
                        <li>Copy the example configuration files into the required setup directory and edit them
                        to contain the details of your environment:
                        <codeblock>cp -r ~/helion/examples/entry-scale-ironic-flat-network/* ~/helion/my_cloud/definition/</codeblock>
                        </li>
                        
                    </ol>
                </li>
                <li conkeyref="install_entryscale_kvm/hosencrypt"/>
                <li conkeyref="install_entryscale_kvm/commit"/>
            </ol>

        </section>
 
        <section conkeyref="install_entryscale_kvm/provision"/>
        
        <section conkeyref="install_entryscale_kvm/config_processor"/>

        <section conkeyref="install_entryscale_kvm/deploy"/>
        
        <section>
            <title>Ironic configuration</title>
            <p>Run the <codeph>ironic-cloud-configure.yml</codeph> playbook below: 
                
<codeblock>
cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts ironic-cloud-configure.yml
</codeblock></p>
            
            <p>This step configures ironic flat network, uploads glance images and sets the ironic configuration</p>
            
            <p>To see the images uploaded to glance, run:
                
<codeblock>$ source ~/service.osrc
$ glance image-list</codeblock>
 
This will produce output like the following example, showing three images that have been added by Ironic:
 <codeblock>   
+--------------------------------------+--------------------------+
| ID                                   | Name                     |
+--------------------------------------+--------------------------+
| d4e2a0ff-9575-4bed-ac5e-5130a1553d93 | ir-deploy-iso-HOS3.0     |
| b759a1f0-3b33-4173-a6cb-be5706032124 | ir-deploy-kernel-HOS3.0  |
| ce5f4037-e368-46f2-941f-c01e9072676c | ir-deploy-ramdisk-HOS3.0 |
+--------------------------------------+--------------------------+</codeblock>     
               
                
                
            </p>
            
            
            <p>To see the network created by Ironic, run:
                
<codeblock>$ neutron net-list</codeblock>
 
 This returns details of the "flat-net" generated by the Ironic install:
 
<codeblock>
 +--------------------------------------+----------+-------------------------------------------------------+
 | id                                   | name     | subnets                                               |
 +--------------------------------------+----------+-------------------------------------------------------+
 | f9474c06-6660-4a03-9644-f439e2a11010 | flat-net | ca8f8df8-12c8-4e58-b1eb-76844c4de7e8 192.168.245.0/24 |
 +--------------------------------------+----------+-------------------------------------------------------+</codeblock>

 
            </p>
            
            
        </section>
        
        
        
        
    </body>
    
    
</topic>

 
                
                
                  
