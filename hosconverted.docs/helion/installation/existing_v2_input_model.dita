<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="exitsing_v2_input_model">
    <title><ph conkeyref="HOS-conrefs/product-title"/>Re-Using an Existing Version 2 Configuration
        for a new Version 3 Installation</title>

    <body>
        <!--not tested-->
        <p conkeyref="HOS-conrefs/applies-to"/>

        <section>
            <title>Introduction</title>
            <p>The example configurations have changed significantly in <keyword
                    keyref="kw-hos-phrase"/> compared to those in version 2.x. Many new services
                have been added while some been changed or removed, so if you are doing a clean
                install of <keyword keyref="kw-hos-phrase"/>, it may be easier to start with the new
                example files and then <xref keyref="localizing_inputmodel">localize</xref> and
                    <xref keyref="customizing_inputmodel">customize</xref> them to suit your setup. </p>
            <p> However, if you have already made a significant effort in creating configuration
                files for a version 2.x deployment, you can re-use these files when performing a
                clean <keyword keyref="kw-hos-phrase"/> installation, making some minor changes as
                outlined below. </p>
            <p>Note that your new cloud will not have the services that are newly supported in
                    <keyword keyref="kw-hos-phrase"/>. You can see how to add these services in the
                installation documentation <xref keyref="installation_overview">here</xref> and the
                upgrade documentation <xref keyref="upgrade_toc">here</xref>. </p>
        </section>

        <section>
            <title>Ceilometer</title>
            <p>A number of Ceilometer services have changed between version 2 and version 3: </p>
            <ul>
                <li><codeph>ceilometer-agent-central</codeph> has been replaced by
                        <codeph>ceilometer-polling</codeph></li>
                <li><codeph>ceilometer-collector</codeph> has been removed</li>
                <li><codeph>ceilometer-expiere</codeph> has been removed</li>
            </ul>
            <p>When <keyword keyref="kw-hos-phrase"/> installs, it will automatically uninstall
                    <codeph>ceilometer-agent-central</codeph> and install
                    <codeph>ceilometer-polling</codeph>. You will need to update your configuration
                files to remove the three obsolete services so that the configuration processor will
                not issue deprecation warnings.</p>
        </section>

        <section conkeyref="upgrade_deprecated/addresses_ranges"/>

        <section>
            <title>DNS Service (Designate)</title>
            <p>Your cloud will run without Designate in control plane. If you want to use Designate,
                you should be aware that it requires configuration before the <keyword
                    keyref="kw-hos-phrase-30"/> installation. Refer to the <xref
                    keyref="designate_install_overview/DesignateInstallOverview"/> for instructions
                on how to setup and configure the DNS Service.</p>
        </section>


        <section>
            <title>Load Balancer Service (Octavia)</title>
            <p>Your cloud will run without Octavia in control plane.</p>
        </section>


        <section>
            <title>Updated Disk Models</title>
            <sectiondiv conkeyref="update_disk_models/disk_sizing_summary"/>
            <p>If you are re-using your existing configuration and want to migrate to the new disk
                models, you need to follow the instructions for using the Disk Sizing tool in the
                Upgrade section <xref keyref="update_disk_models">here</xref>.</p>
        </section>

        <section>
            <title>Ceph</title>
            <p>The example configuration for Entry-scale KVM with Ceph has changed in <keyword
                    keyref="kw-hos-phrase"/> to use a three network model by default. If you choose
                to re-use your existing configuration, ceph based clouds will run with that
                configuration and will not switch to use the new default three network model.</p>
            <p>RADOS Gateway nodes have been added to the Entry-scale KVM with Ceph model in
                    <keyword keyref="kw-hos-phrase"/>. If you choose to re-use your existing
                configuration, your cloud will run without RADOS Gateway.</p>
        </section>

        <section>
            <title>ESX</title>
            <p conkeyref="example_config_changes/esx_summary"/>
            <p>If you choose to re-use your existing configuration, ESX clouds will run with that
                configuration and will not change to a hybrid deployment.</p>
        </section>


        <section>
            <title>Glance</title>
            <p conkeyref="example_config_changes/glance_summary"/>
            <p>If you choose to re-use your existing configuration, Glance Image Caching will not be
                enabled. If you want to enable image caching, you will need to add the Glance
                configuration to your disk model and then follow the procedure for <xref
                    keyref="configure_glance">Configuring the Image Service</xref>.</p>
        </section>


        <section conkeyref="example_config_changes/audit"/>


        <section>
            <title>Swift</title>
            <p conkeyref="example_config_changes/swift_zones_summary"/>
            <p>If you choose to re-use your existing configuration, Swift zones will not be enabled.
                Information on using Swift zones is available <xref keyref="swift_zones"
                >here</xref>.</p>
            <sectiondiv conkeyref="ring_specifications/erasure_coded_intro"/> Information on erasure
            coding is available in <xref keyref="ring_specifications"/> and <xref
                keyref="storage_policies"/>. </section>


        <section>
            <title>TLS for Internal API Endpoints</title>
            <p conkeyref="security_features/tls_internal"/>
            <p>If you choose to re-use your existing configuration, TLS will not be used for data in
                transit between internal API endpoints. If you want to enable TLS for Internal API
                Endpoints, follow the instructions for <xref keyref="tls_config">TLS
                    Configuration</xref>. </p>
        </section>

        <section conkeyref="example_config_changes/infobloc_ipam"/>

        <section>
            <title>Neutron Provider Networks</title>
            <p conkeyref="neutron_provider_networks/provider_network_summary"/>
            <p>If you choose to re-use your existing configuration, no provider networks will be
                setup. For more information on enabling this functionality, see <xref
                    keyref="neutron_provider_networks">Neutron Provider Networks</xref></p>. </section>

    </body>
</topic>
