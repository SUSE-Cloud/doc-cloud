<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="F5_BIGIP_30Preinstall">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Pre-Integration Checklist</title>
  <body>
    <!--not tested-->
    <p conkeyref="HOS-conrefs/applies-to"/>


    <section id="F530_Preinstall">
      <title>F5 Pre-Integration Checklist</title>
      <p>Before integrating the F5-BIG-IP driver into a <keyword keyref="kw-hos"/> deployment, the
        Helion team met all of the following requirements:</p>
      <note type="important"><keyword keyref="kw-hos"/> must be deployed before the F5 installation
        is performed. This is due to the F5 driver not being built directly into <keyword
          keyref="kw-hos"/> by default, and because the F5 installation depends on the existence of
          <keyword keyref="kw-hos"/> Neutron environment.</note>
      <table frame="all" rowsep="1" colsep="1" id="table_ckx_F53600_ht">
        <tgroup cols="2">
          <colspec colname="c1" colnum="1" colwidth="1*"/>
          <colspec colname="c2" colnum="2" colwidth="19*"/>
          <thead>
            <row>
              <entry>&#9744;</entry>
              <entry>Item</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry/>
              <entry><xref type="section" href="#F5_BIGIP_30Preinstall/F530_Preinstall_HW">Use the
                  supported hardware configuration</xref></entry>
            </row>
            <row>
              <entry/>
              <entry><xref type="section" href="#F5_BIGIP_30Preinstall/F530_Preinstall_NW">Create
                  the supported network configuration</xref></entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>


    <section id="F530_Preinstall_HW">
      <title>Use the Supported Hardware Configuration</title>
      <p><keyword keyref="kw-hos"/> supports the F5 hardware configurations listed in the <xref
          href="http://helionready.hpcloud.com/search?title=f5" scope="external" format="html">HPE
          Helion Ready Solution Catalog</xref>.</p>
      <p>For testing purposes, the following hardware configuration was used to integrate an F5
        BIG-IP device with <keyword keyref="kw-hos"/>:</p>
      <table frame="all" rowsep="1" colsep="1" id="table_F53600_shw">
        <tgroup cols="2">
          <colspec colname="c1" colnum="1" colwidth="1*"/>
          <colspec colname="c2" colnum="2" colwidth="3*"/>
          <thead>
            <row>
              <entry>Appliance</entry>
              <entry>Requirement</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>Make</entry>
              <entry><xref href="https://f5.com/" scope="external" format="html">F5
                Networks</xref></entry>
            </row>
            <row>
              <entry>Model</entry>
              <entry>F5 BIG-IP 360</entry>
            </row>
            <row>
              <entry>Operating System</entry>
              <entry>12.0.0 (Build 0.0.606)</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>

    <lines>
  </lines>


    <section id="F530_Preinstall_NW">
      <title>Create the Supported Network Configuration</title>
      <p>The tested network configuration uses tagged VLANs for different networks in the cloud.</p>
      <note type="important"><keyword keyref="kw-hos"/> must be deployed before the F5 installation
        is performed. This is due to the F5 driver not being built directly into <keyword
          keyref="kw-hos"/> by default, and because the F5 installation depends on the existence of
          <keyword keyref="kw-hos"/> Neutron environment.</note>
      <p>The Helion team integrated F5 Networks BIG-IP into an <keyword keyref="kw-hos"/> deployment
        using the following steps:</p>
      <ol>
        <li><xref href="../installation/cloudinstallation_overview.dita">Deploy <keyword
              keyref="kw-hos"/></xref></li>
        <li><xref type="section" href="#F5_BIGIP_30Preinstall/F530_man_net">Verify a working
            Management network.</xref></li>
        <li><xref type="section" href="#F5_BIGIP_30Preinstall/F530_verify_VTEP">Verify a Virtual
            Tunnel Endpoint (VTEP) network.</xref></li>
        <li><xref type="section" href="#F5_BIGIP_30Preinstall/F530_verify_F5_pre">Verify your F5
            device.</xref></li>
      </ol>
    </section>

    <section id="F530_man_net">
      <title>Verify a Working Management Network</title>
      <p>The recommended configuration is to have both the <keyword keyref="kw-hos"/> controller
        nodes and the F5 appliance on the Management network. The Management network is created
        during the <keyword keyref="kw-hos"/> installation process. The Management network is the
        backbone for the majority of <keyword keyref="kw-hos"/> management communications. Control
        messages are exchanged between the Controllers, Compute hosts, and Cinder backends through
        this network. The Management network is implemented as VLANs on the physical network.</p>
      <p>To see an example of a Management Network in a deployment diagram, see, <xref
          href="../architecture/examples/entryscale_esx_kvm_vsa.dita">Entry-scale KVM with VSA
          Model</xref>.</p>
      <p>The Management network configuration is used so that Neutron can reach the F5 iControl API.
          <note type="important">It does not matter if you put the F5 iControl API on a different
          VLAN from the <keyword keyref="kw-hos"/> Management network. You can use any network as
          long as it meets the following requirement: <ul>
            <li>Controller nodes can access the F5 iControl API</li>
          </ul></note></p>
      <p>To verify a working Management network:</p>
      <ol>
        <li>From a controller node, at a command line, run a <codeph>curl</codeph> command similar
          to this: <codeblock>curl -kiL https://&lt;iControl_IP&gt;</codeblock></li>
      </ol>
      <p>Where:</p>
      <dl>
        <dlentry>
          <dt>&lt;iControl_IP&gt;</dt>
          <dd>IP address or hostname of the BIG-IP appliance</dd>
        </dlentry>
      </dl>
      <p>If the iControl API is accessible, then the command will return output from BIG-IP.</p>
    </section>


    <section id="F530_verify_VTEP">
      <title>Verify a Virtual Tunnel Endpoint (VTEP) Network</title>
      <p>This endpoint is one IP address on the network group that provides private networks to
        virtual machines. In the sample <keyword keyref="kw-hos"/> definition, the network group is
        called "GUEST".</p>
      <note type="attention">The administrator needs to ensure that a VTEP address is configured on
        the BIG-IP appliance. The configuration of the address will depend on your specific network,
        but ensure you meet the following minimum requirement: <ul>
          <li>Configure one IP address on a tagged network to use for the VXLAN tunnel (VTEP)</li>
        </ul></note>
    </section>

    <section id="F530_verify_F5_pre">
      <title>Verify your F5 device</title>
      <table frame="all" rowsep="1" colsep="1" id="table_ckx_F53600_config">
        <tgroup cols="3">
          <colspec colname="c1" colnum="1" colwidth="1*"/>
          <colspec colname="c2" colnum="2" colwidth="13*"/>
          <colspec colname="c3" colnum="3" colwidth="6*"/>
          <thead>
            <row>
              <entry>&#9744;</entry>
              <entry>Item</entry>
              <entry>Requirement</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry/>
              <entry><b>Add the F5 appliance to your <keyword keyref="kw-hos"/>
                deployment.</b></entry>
              <entry>For more information, refer to the <xref href="https://f5.com/support"
                  scope="external" format="html">F5 Networks Support</xref> site</entry>
            </row>
            <row>
              <entry/>
              <entry><b>Ensure that the F5 appliance has the correct license.</b> The license needs
                to contain <codeph>SDN Services</codeph> as an active module so that the F5
                appliance can activate the VXLAN listener.</entry>
              <entry>To view the license, do one of the following: <ul>
                  <li>In the BIG-IP control panel, navigate to <b>System</b>, then <b>License</b>,
                    then <b>Active Modules</b>.</li>
                  <li>From the command line, run: <codeph>tmsh show sys license</codeph>.</li>
                </ul></entry>
            </row>
            <row>
              <entry/>
              <entry><b>Configure the VLAN</b>. Define a VLAN with a name and the correct tag. There
                is no required name for the VLAN, however this documentation uses
                  <codeph>HOS_GUEST_VXLAN</codeph>. </entry>
              <entry>To define a VLAN: <ol>
                  <li>In the BIG-IP control panel, navigate to <b>Network</b>, and then
                    <b>VLANs</b>.</li>
                  <li>Either choose to edit an existing VLAN or create a new one.</li>
                  <li>To define a VLAN with the correct tag, in the <codeph>Common</codeph>
                    partition, enter the tag information for your specific deployment. </li>
                </ol>
              </entry>
            </row>
            <row>
              <entry/>
              <entry><b>Create a self IP.</b> A self IP address is an IP address on the BIG-IPÂ®
                system that you associate with a VLAN, to access hosts in that VLAN. By virtue of
                its netmask, a self IP address represents an address space, that is, a range of IP
                addresses spanning the hosts in the VLAN, rather than a single host address. For
                more information, see the F5 Networks <xref
                  href="https://support.f5.com/kb/en-us/products/big-ip_ltm/manuals/product/tmos_management_guide_10_1/tmos_selfips.html"
                  scope="external" format="html">Introducing Self IP</xref> documentation.</entry>
              <entry> To create a self-IP: <ol>
                  <li>In the BIG-IP control panel, navigate to <b>Network</b>, then <b>Self
                    IPs</b>.</li>
                  <li>Use the following settings: <dl>
                      <dlentry>
                        <dt>VLAN / Tunnel</dt>
                        <dd>HOS_GUEST_VXLAN</dd>
                      </dlentry>
                      <dlentry>
                        <dt>Name</dt>
                        <dd>VTEP</dd>
                      </dlentry>
                      <dlentry>
                        <dt>IP Address</dt>
                        <dd>Choose any free IP address in the data network</dd>
                      </dlentry>
                    </dl></li>
                </ol></entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>

  </body>
</topic>
