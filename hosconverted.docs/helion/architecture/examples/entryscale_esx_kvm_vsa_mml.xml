<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="example_entryscale_esx_mml">
    <title><ph conkeyref="HOS-conrefs/product-title"/>Entry-scale ESX, KVM with VSA Model with
        Dedicated Cluster for Metering, Monitoring, and Logging</title>
    <body>
        <!--not tested-->
        <p conkeyref="HOS-conrefs/applies-to"/>
        <p>This model is a variant of the Entry-scale ESX KVM with VSA model. It is designed to
            support greater levels of metering, monitoring, and logging.</p>
        <ul>
            <li>Metering - All meters required to support charge-back/show-back for core
                Infrastructure as a Service (IaaS) elements.</li>
            <li>Logging - Run all services at INFO level with the ability to change the settings to
                DEBUG in order to triage specific error conditions. Minimum retention for logs is 30
                days to satisfy audit and compliance requirements.</li>
            <li>Monitoring - Full performance metrics and health checks for all services.</li>
        </ul>
        <p>In order to provide increased processing power for these services, the following
            configuration changes are made to the control plane in this model:</p>
        <ul>
            <li>All services associated with metering, monitoring, and logging run on a dedicated
                three-node cluster. Three nodes are required for high availability with quorum.</li>
            <li>A dedicated three node cluster is used for RabbitMQ message queue and database
                services. This cluster is also used to provide additional processing for the message
                queue and database load associated with the additional metering, monitoring, and
                logging load. Three nodes are required for high availability with quorum.</li>
            <li>The main API cluster is reduced to two nodes. These services are stateless and do
                not require a quorum node for high availability.</li>
        </ul>
        <p><image href="../../../media/hos.docs/exampleconfigs/Entry-ScaleESX-KVMwithVSADedicatedMML.png"
            /></p>
        <p><xref href="../../../media/hos.docs/exampleconfigs/Entry-ScaleESX-KVMwithVSADedicatedMML.png"
                scope="external" format="html">Download</xref></p>
        <p><xref href="./../../../media/templates/HOS_Network_Diagram_Template.zip" scope="external"
                format="html">Download Editable Visio Network Diagram Template</xref></p>
        <p>The physical networking configuration is also largely the same as the KVM example, with
            the default GUEST network VxLAN as the Neutron networking model.</p>
        <p>A separate configuration network (CONF) is required for configuration access from the
            lifecycle manager. This network must be reachable from the Management network.</p>

        <section
            conref="../../planning/rec_min_entryscale_esx_kvm_vsa_mml.dita#rec_min_entryscale_esx_kvm_vsa_mml/rec_min"/>
    </body>
</topic>
