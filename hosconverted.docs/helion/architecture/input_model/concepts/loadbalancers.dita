<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="concept_loadbalancers">
    <title><ph conkeyref="HOS-conrefs/product-title"/>Load Balancers</title>
    <body><!--not tested-->
        <p conkeyref="HOS-conrefs/applies-to"/>
        
    <p><uicontrol>Load-balancers</uicontrol> provide a specific type of routing and are 
        defined <!--in <uicontrol>network-groups</uicontrol> -->as a relationship between the virtual IP
        address (VIP) on a network in one <uicontrol>network group</uicontrol> and a set of service
        endpoints (which may be on <uicontrol>networks</uicontrol> in the same or a different
        <uicontrol>network-group</uicontrol>).</p>
        <p>As each <uicontrol>load-balancer</uicontrol> is defined providing a virtual IP on a <uicontrol>network-group</uicontrol>, it follows
        that those <uicontrol>network-group</uicontrol>s <!--containing a
        <uicontrol>load-balancer</uicontrol>--> can each only have one <uicontrol>network</uicontrol>
        associated to them.</p>
        
    <p>The <uicontrol>load-balancer</uicontrol> definition includes a list of
        <uicontrol>service-components</uicontrol> and endpoint roles it will provide a virtual IP
        for. This model allows service-specific <uicontrol>load-balancers</uicontrol> to be defined
        on different <uicontrol>network-groups</uicontrol>. A "default" value is used to express
        "all service-components" which require a virtual IP address and are not explicitly
        configured in another <uicontrol>load-balancer</uicontrol> configuration. The details of how
        the <uicontrol>load-balancer</uicontrol> should be configured for each service, such as
        which ports to use, how to check for service liveness, etc, are provided in the
        <keyword keyref="kw-hos"/> supplied service definition files.</p>
        
        
        <p audience="INTERNAL">Where there are multiple instances of a service (i.e in a cloud with multiple control-planes),
            each control-plane needs its own set of virtual IP address and different values for some properties such as 
            the external name and security certificate.   To accommodate this in <keyword keyref="kw-hos-phrase"/>, 
            load-balancers are defined as part of the control-plane, with the network groups defining just 
            which load-balancers are attached to them.</p>    
        
        <p audience="INTERNAL">Load balancers are always implemented by an ha-proxy service in the same control-plane as the services.  </p>
        

    
    </body>
    </topic>
