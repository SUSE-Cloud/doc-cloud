<?xml version="1.0" encoding="UTF-8"?>
<!--Edit status: not edited-->
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="install_cli">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Installing the Command-Line Clients</title>
  <abstract><shortdesc outputclass="hdphidden"/></abstract>
  <body>
    <section id="about">
      <p>During the installation, by default, the suite of OpenStack command-line tools are
        installed on the lifecycle manager and the control plane in your environment. This includes
        the OpenStack Command-Line Interface as well as the clients for the individual services such
        as the NovaClient, CinderClient, and SwiftClient. You can learn more about these in the
        OpenStack documentation here: <xref href="http://docs.openstack.org/cli-reference/"
          scope="external" format="html">OpenStack Command-Line Interface Reference</xref>.</p>
      <p>If you wish to install the command-line interfaces on other nodes in your environment,
        there are two methods you can use to do so that we describe below.</p>
    </section>
    <section id="input_model">
      <title>Installing the CLI tools using the input model</title>
      <p>During the initial install phase of your cloud you can edit your input model to request
        that the command-line clients be installed on any of the node clusters in your environment.
        To do so, follow these steps:</p>
      <ol>
        <li>Log in to the lifecycle manager.</li>
        <li>Edit your <codeph>control_plane.yml</codeph> file. Full path:
          <codeblock>~/helion/my_cloud/definition/data/control_plane.yml</codeblock></li>
        <li>In this file you will see a list of <codeph>service-components</codeph> to be installed
          on each of your clusters. These clusters will be divided per role, with your controller
          node cluster likely coming at the beginning. Here you will see a list of each of the
          clients that can be installed. These include:
          <codeblock>keystone-client
glance-client
cinder-client
nova-client
neutron-client
swift-client
heat-client
openstack-client
ceilometer-client
monasca-client
barbican-client
designate-client</codeblock></li>
        <li>For each client you want to install, specify the name under the
            <codeph>service-components</codeph> section for the cluster you want to install it on.
            <p>So, for example, if you'd like to install the Nova and Neutron clients on your
            Compute node cluster, you can do so by adding the <codeph>nova-client</codeph> and
              <codeph>neutron-client</codeph> services, like this:</p>
          <codeblock>      resources:
        - name: compute
          resource-prefix: comp
          server-role: COMPUTE-ROLE
          allocation-policy: any
          min-count: 0
          service-components:
            - ntp-client
            - nova-compute
            - nova-compute-kvm
            - neutron-l3-agent
            - neutron-metadata-agent
            - neutron-openvswitch-agent
            - neutron-lbaasv2-agent
            <b>- nova-client
            - neutron-client</b></codeblock>
          <note>This example uses the <codeph>entry-scale-kvm-vsa</codeph> sample file. Your model
            may be different so use this as a guide but do not copy and paste the contents of this
            example into your input model.</note></li>
        <li>Commit your configuration to the local git repo, as follows:
          <codeblock>cd ~/helion/hos/ansible
git add -A
git commit -m "My config or other commit message"</codeblock></li>
        <li>Continue with the rest of your installation.</li>
      </ol>
    </section>
    <section id="ansible">
      <title>Installing the CLI tools using Ansible</title>
      <p>At any point after your initial installation you can install the command-line clients on
        any of the nodes in your environment. To do so, follow these steps:</p>
      <ol>
        <li>Log in to the lifecycle manager.</li>
        <li>Obtain the hostname for the nodes you want to install the clients on by looking in your
          hosts file:<codeblock>cat /etc/hosts</codeblock></li>
        <li>Install the clients using this playbook, specifying your hostnames using commas:<codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts -e "install_package=&lt;client_name>" client-deploy.yml -e "install_hosts=&lt;hostname>"</codeblock>
          <p>So, for example, if you'd like to install the NovaClient on two of your Compute nodes
            with hostnames <codeph>helion-cp1-comp0001-mgmt</codeph> and
              <codeph>helion-cp1-comp0002-mgmt</codeph> you can use this syntax:</p>
          <codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts -e "install_package=novaclient" client-deploy.yml -e "install_hosts=helion-cp1-comp0001-mgmt,helion-cp1-comp0002-mgmt"</codeblock></li>
        <li>Once the playbook completes successfully, you should be able to SSH to those nodes and,
          using the proper credentials, authenticate and use the command-line interfaces you have
          installed.</li>
      </ol>
    </section>
  </body>
</topic>
